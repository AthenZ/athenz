sudo: required
services:
- docker
language: java
jdk:
- oraclejdk8
cache:
  directories:
  - $HOME/.m2
before_install:
- eval "$(gimme 1.7.3)"
- nvm install 6
- npm install -g npm@latest
- sudo add-apt-repository -y ppa:ubuntu-toolchain-r/test
- sudo apt-get update
- sudo apt-get install gcc-4.8
- sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.8 50
- sudo apt-get install g++-4.8
- sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.8 50
script: mvn install -DargLine="-Dlogback.configurationFile=src/test/resources/travis_logback.xml"
after_success:
- test "${TRAVIS_PULL_REQUEST}" == "false" && test "${TRAVIS_TAG}" != "" && ./travis/publish_to_bintray.sh
  && ./docker/publish_docker.sh && ./aws/create_aws_ami.sh
env:
  global:
  - secure: fqS3OabyL+omMi6eCwajizY6uVq9sXVFmpECPtAfMNsTDh3mh4I2zo6puSZszMWp1+Oc9I1ZO1TvJjrrbEuhfuONT7SMd8U2L8jmtXXLwv1AKn/3IpmAF9PvU723hO9oO5SZDU79dRrlaEDRnoJHeJh1PG2j2vtCEGNZCZ2btNGP5g00yHcMjMUU5kSI113iuRMQLyZuT7WaoCJO8GXXJfTx37seiW4c77Kj+1J/icVhcx4eF/ZOQRXgGAkZo7sPcmuKmBb95eUjgx3guiK2M1pU+oaivaOp1Qm4mkVE9W9p7zYThmrTvIElFHXbGEI9ATDYC+lhi764hj9IIicKF4c6Nghtl6rlrazbJvxYPbyMbURjnVEmzUFn0hhq8vwwBsoqbxJ07Vn0IAoYaAWq0pP9wWUuTYq0yD/BsiFbek4ewwki2QXjr5ZpMFiRymnyn4dqcKXApHL6wDSMmJZ/9ZSadHkOF4b4T3exNd4h6JA6OioErstlPimPjsi7rtR2IkedOYwcYmUKsJ2Wn5fOfNxI6Rg9HfGrtlM1wiIIMbxTxJduwPluuqsPQsu2gHPEXrjqyyE+A9fP1fQPF41vZXnSY+7iCzPn/bZsjSUohHS9GJQvfQ2Np6r2zAbhBo9zFaP7PVBh6IGpAMWYIFg7CQportIjv46pn6cP2e1MMhc=
  - secure: z11Ag3KuyLgbFqTWpB/Cue7q8qRpMwuLjF5ZiAegPJ8+L1rqk4LsMIJMuadKfmqC1ydv/jljrJmi6UeGLVwVnvUt8zl/2+TDjun9iceXxsLOoz4buP++oRA6m9fE5fj+1MBFhG5udtFZuvSaHGOftoIZ46JRG6/VAavfpx5M0Za+BbrVDZcyy+WLDE9H6nUdiQW7FteT3S0scJQQWn3Dkh6Jnu36nZ68/qQynZso7I+1PJ2SpRHkLuzRFbrC6oTvIbcfvjLsCbIMO76B1ERvOImovmf+Eurvji4CwdciMsKbUz8pQvtnNZyyYZdemQC5YjvUg3plHEwe/bOclVq4lwdBtz/JZncN/68iwyu+PgifiT35pnZ74S6Gurelp2IYWtrE7few7yg0JEaVP4hboM2cDI52RQF5yCMe0c/ntufv31o6/63BMHfGyioYf8m/qOLcQcOPdgeJExXkFCrn17JQU+TFYetLMfrG8/J51AdPIvRt7Hl4M+4vtxCBi37HtknVqljFsve5V31SHN/q5HMPA6Z26HCQNSaXD2O0TonqXf6eIqhjyw10JW+uzgniu/ChTwcbkrYxlg8qStrxUhhEhjNnRymY38As2+0I0EXlyaw3CdIhnkSB2LpLsXRDIeW47KipfG0AitIPZo3QuV8KC9RvI8ssQ3S3THfOREI=
  - secure: wkYN6lYfZonNm6zzXrEk9JYu0H6jJm8HDO4bJ58l8HrCEyy+YrxsOVkajlHnHbJ3S/etmAzYTkW9Q8LIqy7lHfClEgbB493poheiUxFLb4fD5n61cSM6Gv+Y35IyIrhIYvMCvuUJwBag9cU0l7khkpW/ZjjDXSfWtDdzJzNTxX4ynITNHsk7WE8G3eW6zwBKshZGJpnrBPayDybFdM68jYMCTR+Tiz+JeWfWsrMuc+SvzpXU32jUze202g8M1uMvS1MbJmEow2rUD5IXP6Q/x1xRz94xZ72QId3nLrSWcyfwN7oD5RpyJqWhWxNK1Ie/C/JhjyuX94bF6+Ba4fWmrRadTBDDBcGEm+JcYiz/GajnLiIJ08/c/EI6uAKQCrLSyDQaq6V1TySS5owWhxKUdRjBWU94q07Om52IJ6EnVBobQnhaa9HX4WcVTL7L9Uobq/gB418HtgNrupVgzKFmrM650tmJHuXMgo+yWwzi1JuNu6QpLklSRESPQlCHgSNS29zSmrq2b3SZ0o97WE8Nhnn+O8kNrUVD3zQZhw3ltDYRJyiifWZorCOgZNKzSdnctO56sv2tb4PP6ymwXiJQ3l8JC2Zvc2J4UXYN+e7KtPBpTKrKgvTcNgRCVOgPF38rWn3MY1p/tCoh1ekV02QxOzGYh3+Ne7n8Y0AwAmL56yc=
  - secure: PTvvfEIcKMqNjLEAVLUMY2+10fCLhpfiZuGOGBuXWgIE0JAqVtz9mBXINtbXVe5p9ZERJePZmH9Fe4L+Cjzt2T/nYf6fp4PlvtlwZwI8GdRUJRzojMHoSBPnW+LYHcKnEV0mcTq9s8jUDikzb+aMxgXkpz0uLdqaHSP5L6dV5R5PsjDL4I0/btEOex2V5Q+kVZqtTkyNNzyf4weD8iao5Tq2n9zb3UFw3IhgnvoFEj1f6C6MYXXEcl+zEPzizpkYPFq99ODQk1BOVOx6MQeJ7VT1FtPM+yZDgY0xwg4mQaTjKa2L3jPcldlcbyvaBY6rEIEQK+n9jH42nJhcP12An1zXO2y5N3TXjP5xB5pJSmlWlWUMrA2CnDPtzlBqNZ/BZY6Y9b7dpauITkQg4jEzOTzJCyMMjiQLv/Iix6jAoD8JKBCZ6+XG0DGuxrPjKqbcEIuxy4lKE0vQFgbyNDH+KOFEM285D+RAILO7v1+Yrwkq9szbRHT0+0zijSMlbIIMaXUvt23vQuO9psPkq0eTTI2YRbyQ22Rv3HW+Fxfnl0rBxWJumRlC+7TqLPbcQ9JIuozL1F906KrJZ6bUgeCwkLVaBrcZKArSiORxOBgFL2xCzIKQKZDSLRStwqmZGHDeYZr4cKRpVeCLXTLPgjqmqs6mPahRk1x7+ExR24QHXOU=
  - secure: 0ttLhXSKHPVtDJ7783naImEuv0TU+UOCZPufUFXkdny9hddISqHljFbjRCe00U44wznHsE8LU9w/ORcCmiAm/FbWlx4TThD6TJjfZUfL0uPkBrngIpjtZG2B6ThJXafcL0YopwZ9q//P4disG65jF/K7AV7gTaqDV3PW7HMvD3ZIU1LnsUaycqyCI6gtEgd9anOim3RFTpk2LqrqO0hQSxtojl67KLnYwO2JVBj1LYAqJWyWxiSOcNipRubVebmTT73g+1hxHb+H4aFhSjik0ugFatiiCOCYL6ejYrjo0qrfWWIErTbQKN8z/XcKaTTRsO0OhDYJ7UfeQdhm51nSL6Bf+FmhdDRGoSjJ48ypgHgP5UUxNcGzGhnoEO7SePC8jT5hC/6+JU4dwWlrqttZFUQWLH1DE2NQNkGqAfubHjpCWYWQSqzrek5MYbko24u3ahfIXvq4/3vh75QhjPCoUzi1WNcrmfr+B18XVG7/Sb9ewee03qRXALFTkYk4ZkTLCJ60WJN7MoP5mRn7gKkqRo/5rZKAAfDdfri2pyGVAikbY9QE14jnGOnUOJ36pVqGo9mAiS6ulzjD6+4FBVbwg5Ayv0eJ7XD3jWktZdxvtfr8fNBwdlAhF3mIqZ7tAP+ww4Mu0OevMHHVUzKCeWs0m6DkjQ8RRh5DrAYVygW9SXU=
