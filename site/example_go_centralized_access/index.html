



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Athenz User Guide">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.1.0">
    
    
      
        <title>Go Client/Server Example - Athenz</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.11e41852.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.20ef595d.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../extra.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#go-clientserver-example-centralized-access-control" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Athenz" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Athenz
              </span>
              <span class="md-header-nav__topic">
                Go Client/Server Example
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/yahoo/athenz/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Athenz" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Athenz
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/yahoo/athenz/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Getting Started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href=".." title="About" class="md-nav__link">
      About
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dev_environment/" title="Development Environment" class="md-nav__link">
      Development Environment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-3" type="checkbox" id="nav-1-3">
    
    <label class="md-nav__link" for="nav-1-3">
      Local/Development Environment Setup
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-1-3">
        Local/Development Environment Setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../setup_zms/" title="ZMS Server" class="md-nav__link">
      ZMS Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../setup_zts/" title="ZTS Server" class="md-nav__link">
      ZTS Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../setup_ui/" title="UI Server" class="md-nav__link">
      UI Server
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-4" type="checkbox" id="nav-1-4">
    
    <label class="md-nav__link" for="nav-1-4">
      Production Environment Setup
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-1-4">
        Production Environment Setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../setup_zms_prod/" title="ZMS Server" class="md-nav__link">
      ZMS Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../setup_zts_prod/" title="ZTS Server" class="md-nav__link">
      ZTS Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../setup_ui_prod/" title="UI Server" class="md-nav__link">
      UI Server
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      AWS Setup
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        AWS Setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../aws_athenz_setup/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aws_zms_setup/" title="ZMS Server" class="md-nav__link">
      ZMS Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aws_zts_setup/" title="ZTS Server" class="md-nav__link">
      ZTS Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aws_ui_setup/" title="UI Server" class="md-nav__link">
      UI Server
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Architecture
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Architecture
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../data_model/" title="Data Model" class="md-nav__link">
      Data Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../system_view/" title="System View" class="md-nav__link">
      System View
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../auth_flow/" title="Authorization Flow" class="md-nav__link">
      Authorization Flow
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Features
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Features
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../copper_argos/" title="Service Identity X.509 Certificates - Copper Argos" class="md-nav__link">
      Service Identity X.509 Certificates - Copper Argos
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      Developer Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Developer Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../dev_centralized_access/" title="Centralized Access Control" class="md-nav__link">
      Centralized Access Control
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../example_java_centralized_access/" title="Java Client/Servlet Example" class="md-nav__link">
      Java Client/Servlet Example
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Go Client/Server Example
      </label>
    
    <a href="./" title="Go Client/Server Example" class="md-nav__link md-nav__link--active">
      Go Client/Server Example
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#required-components" title="Required Components" class="md-nav__link">
    Required Components
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#service-definition" title="Service Definition" class="md-nav__link">
    Service Definition
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resource-definition" title="Resource Definition" class="md-nav__link">
    Resource Definition
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#athenz-management-setup" title="Athenz Management Setup" class="md-nav__link">
    Athenz Management Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-changes" title="Code Changes" class="md-nav__link">
    Code Changes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#client-changes" title="Client Changes" class="md-nav__link">
    Client Changes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#client-import-dependency-update" title="Client Import Dependency Update" class="md-nav__link">
    Client Import Dependency Update
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obtaining-ntokens" title="Obtaining NTokens" class="md-nav__link">
    Obtaining NTokens
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-go-zms_svctoken-client-utility" title="Build Go zms_svctoken Client Utility" class="md-nav__link">
    Build Go zms_svctoken Client Utility
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server-changes" title="Server Changes" class="md-nav__link">
    Server Changes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#server-import-dependency-update" title="Server Import Dependency Update" class="md-nav__link">
    Server Import Dependency Update
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authorization-checks" title="Authorization Checks" class="md-nav__link">
    Authorization Checks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-server" title="Build Server" class="md-nav__link">
    Build Server
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploying-example-server" title="Deploying Example Server" class="md-nav__link">
    Deploying Example Server
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-cases" title="Test Cases" class="md-nav__link">
    Test Cases
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#invalid-access-without-servicetoken" title="Invalid Access Without ServiceToken" class="md-nav__link">
    Invalid Access Without ServiceToken
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#movie-editor-access" title="Movie Editor Access" class="md-nav__link">
    Movie Editor Access
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tvshow-editor-access" title="TvShow Editor Access" class="md-nav__link">
    TvShow Editor Access
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#site-editor-access" title="Site Editor Access" class="md-nav__link">
    Site Editor Access
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-test-cases" title="Other Test Cases" class="md-nav__link">
    Other Test Cases
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dev_decentralized_access/" title="Decentralized Access Control" class="md-nav__link">
      Decentralized Access Control
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../example_java_decentralized_access/" title="Java Client/Servlet Example" class="md-nav__link">
      Java Client/Servlet Example
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Customizing Athenz
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Customizing Athenz
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../principal_authentication/" title="Principal Authentication" class="md-nav__link">
      Principal Authentication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../private_key_store/" title="Private Key Store" class="md-nav__link">
      Private Key Store
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cert_signer/" title="Certificate Signer" class="md-nav__link">
      Certificate Signer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../copper_argos_dev/" title="Service Identity X.509 Certificate Support Requirements - Copper Argos" class="md-nav__link">
      Service Identity X.509 Certificate Support Requirements - Copper Argos
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      User Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        User Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../zms_client/" title="ZMS Client Utility" class="md-nav__link">
      ZMS Client Utility
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../setup_zpu/" title="ZPU Utility" class="md-nav__link">
      ZPU Utility
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../reg_service_guide/" title="Registering ZMS Service Identity" class="md-nav__link">
      Registering ZMS Service Identity
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#required-components" title="Required Components" class="md-nav__link">
    Required Components
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#service-definition" title="Service Definition" class="md-nav__link">
    Service Definition
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resource-definition" title="Resource Definition" class="md-nav__link">
    Resource Definition
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#athenz-management-setup" title="Athenz Management Setup" class="md-nav__link">
    Athenz Management Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-changes" title="Code Changes" class="md-nav__link">
    Code Changes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#client-changes" title="Client Changes" class="md-nav__link">
    Client Changes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#client-import-dependency-update" title="Client Import Dependency Update" class="md-nav__link">
    Client Import Dependency Update
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obtaining-ntokens" title="Obtaining NTokens" class="md-nav__link">
    Obtaining NTokens
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-go-zms_svctoken-client-utility" title="Build Go zms_svctoken Client Utility" class="md-nav__link">
    Build Go zms_svctoken Client Utility
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server-changes" title="Server Changes" class="md-nav__link">
    Server Changes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#server-import-dependency-update" title="Server Import Dependency Update" class="md-nav__link">
    Server Import Dependency Update
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authorization-checks" title="Authorization Checks" class="md-nav__link">
    Authorization Checks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-server" title="Build Server" class="md-nav__link">
    Build Server
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploying-example-server" title="Deploying Example Server" class="md-nav__link">
    Deploying Example Server
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-cases" title="Test Cases" class="md-nav__link">
    Test Cases
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#invalid-access-without-servicetoken" title="Invalid Access Without ServiceToken" class="md-nav__link">
    Invalid Access Without ServiceToken
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#movie-editor-access" title="Movie Editor Access" class="md-nav__link">
    Movie Editor Access
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tvshow-editor-access" title="TvShow Editor Access" class="md-nav__link">
    TvShow Editor Access
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#site-editor-access" title="Site Editor Access" class="md-nav__link">
    Site Editor Access
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-test-cases" title="Other Test Cases" class="md-nav__link">
    Other Test Cases
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/yahoo/athenz/edit/master/docs/example_go_centralized_access.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="go-clientserver-example-centralized-access-control">Go Client/Server Example - Centralized Access Control</h1>
<hr />
<ul>
<li><a href="#required-components">Required Components</a></li>
<li><a href="#service-definition">Service Definition</a></li>
<li><a href="#resource-definition">Resource Definition</a></li>
<li><a href="#athenz-management-setup">Athenz Management Setup</a></li>
<li><a href="#code-changes">Code Changes</a><ul>
<li><a href="#client-changes">Client Changes</a><ul>
<li><a href="#client-import-dependency-update">Client Import Dependency Update</a></li>
<li><a href="#obtaining-ntokens">Obtaining NTokens</a></li>
<li><a href="#build-go-zms_svctoken-client-utility">Build Go zms_svctoken Client Utility</a></li>
</ul>
</li>
<li><a href="#servlet-changes">Servlet Changes</a><ul>
<li><a href="#servlet-project-dependency-update">Servlet Project Dependency Update</a></li>
<li><a href="#authorization-checks">Authorization Checks</a></li>
<li><a href="#build-servlet">Build Servlet</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#deploying-example-servlet">Deploying Example Servlet</a></li>
<li><a href="#test-cases">Test Cases</a><ul>
<li><a href="#invalid-access-without-servicetoken">Invalid Access Without ServiceToken</a></li>
<li><a href="#movie-editor-access">Movie Editor Access</a></li>
<li><a href="#tvshow-editor-access">TvShow Editor Access</a></li>
<li><a href="#site-editor-access">Site Editor Access</a></li>
<li><a href="#other-test-cases">Other Test Cases</a></li>
</ul>
</li>
</ul>
<p>In the centralized access control model, the service as a principal
requests its NToken from SIA Provider and then presents it to the
target service which would perform an identical check with ZMS to confirm
access.</p>
<p><img alt="Authenticated Service as Principal" src="../images/centralized_authz_for_services.png" /></p>
<p>The required steps to setup the environment for provider and tenant
services to support centralized access control are as follows:</p>
<ul>
<li>System administrator creates the provider and tenant domains.</li>
<li>Tenant Domain administrator generates a public/private key pair
  and registers a service in its domain.</li>
<li>Provider Domain administrator creates a role and policy that
  grants access to the given role with configured action and resource.</li>
<li>Provider Domain administrator adds the Tenant Service to the
  role to grant access.</li>
<li>Tenant Domain administrator installs the private key on the host
  that will be running the client/tenant service.</li>
</ul>
<h2 id="required-components">Required Components</h2>
<hr />
<p>To support centralized access control in your applications,
you only need to install and configure the Athenz ZMS
server along with the Athenz UI. Please follow these guides
to make sure you have both of those components up and
running in your environment:</p>
<ul>
<li><a href="../setup_zms/">ZMS Server</a></li>
<li><a href="../setup_ui/">UI Server</a></li>
</ul>
<p>To build the client and server components of this example,
you need to download and install Go and Git client
if you don't already have these available on your box:</p>
<ul>
<li><a href="https://golang.org/doc/install">The Go Programming Language</a></li>
<li><a href="https://git-scm.com/downloads">Git client</a></li>
</ul>
<p>Make sure your GOPATH variable is set and the PATH variable
includes the $(GOPATH)/bin to run the utilities.</p>
<h2 id="service-definition">Service Definition</h2>
<hr />
<p>Let's first define our service that needs to be Athenz protected.
We have a simple recommendation service that returns either a movie
or tv show for the caller. It has two endpoints:</p>
<div class="codehilite"><pre><span></span><span class="err">GET /rec/v1/movie</span>
<span class="err">GET /rec/v1/tvshow</span>
</pre></div>


<p>So in this first release we just want to protect access to these
endpoints. The traffic is very low - we only expect a couple of
requests an hour so we have decided to use Athenz' centralized
authorization model.</p>
<h2 id="resource-definition">Resource Definition</h2>
<hr />
<p>Defining resources and actions the principals are authorized
to execute is one of the most important tasks
in the authorization process. Based on our endpoints, it's expected
that we'll have 2 general resources:</p>
<div class="codehilite"><pre><span></span>movie
tvshow
</pre></div>


<p>The resources are referenced in their own domain namespace. So those
are valid if your domain is specifically created to support this
recommendation service only. But's lets assume we might add rental
support later, so we need to make sure the policies are based on
service specific resources. So we'll define our resources as:</p>
<div class="codehilite"><pre><span></span>rec.movie
rec.tvshow
</pre></div>


<p>Support action for these resources would be <code>read</code>. We can extend
our authorization policies later on if we need to introduce other
actions - such as <code>write</code> or <code>list</code> as we add more functionality into
our service.</p>
<h2 id="athenz-management-setup">Athenz Management Setup</h2>
<hr />
<p>Once we have defined what our resources and actions are, we can
create their respective client and server (also commonly referred
as tenant and provider) roles and policies in Athenz. Go to
Athenz UI and login with your account which should have system
administrator access. Follow the instructions in the following
guide to setup the required access control:</p>
<ul>
<li><a href="../example_service_athenz_setup/">Access Control Setup</a></li>
</ul>
<h2 id="code-changes">Code Changes</h2>
<hr />
<p>Both the client and server implementors need to make changes
in their respective code bases to support centralized authorization
checks. The client needs to make sure to submit its service
identity as part of its request, while the service needs to
carry out the authorization check based on that service
identity to determine if it request should be processed or not.</p>
<h3 id="client-changes">Client Changes</h3>
<hr />
<p>While we'll use the <code>curl</code> client to make the http calls
to our example service, we provide a sample client code
that utilizes our zmssvctoken go library to generate
service identity tokens. The full client source code is
available from:</p>
<p>https://github.com/yahoo/athenz/blob/master/utils/zms-svctoken/zms-svctoken.go</p>
<h4 id="client-import-dependency-update">Client Import Dependency Update</h4>
<hr />
<p>First you need to update your go client to import the zms service
token library.</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="p">(</span>
    <span class="s">&quot;github.com/yahoo/athenz/libs/go/zmssvctoken&quot;</span>
<span class="p">)</span>
</pre></div>


<h4 id="obtaining-ntokens">Obtaining NTokens</h4>
<hr />
<p>The domain administrator must have already generated a public/private key pair
for the service and registered public key in Athenz. The private key must be
available on the host where the client will be running.</p>
<div class="codehilite"><pre><span></span>    <span class="c1">// load private key</span>
    <span class="nx">bytes</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">ioutil</span><span class="p">.</span><span class="nx">ReadFile</span><span class="p">(</span><span class="nx">privateKeyFile</span><span class="p">)</span>
    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="nx">log</span><span class="p">.</span><span class="nx">Fatalln</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="c1">// get token builder instance</span>
    <span class="nx">builder</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">zmssvctoken</span><span class="p">.</span><span class="nx">NewTokenBuilder</span><span class="p">(</span><span class="nx">domain</span><span class="p">,</span> <span class="nx">service</span><span class="p">,</span> <span class="nx">bytes</span><span class="p">,</span> <span class="nx">keyVersion</span><span class="p">)</span>
    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="nx">log</span><span class="p">.</span><span class="nx">Fatalln</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="c1">// set optional attributes</span>
    <span class="nx">builder</span><span class="p">.</span><span class="nx">SetExpiration</span><span class="p">(</span><span class="mi">60</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Minute</span><span class="p">)</span>

    <span class="nx">tok</span> <span class="o">:=</span> <span class="nx">builder</span><span class="p">.</span><span class="nx">Token</span><span class="p">()</span>

    <span class="c1">// get a token for use</span>
    <span class="nx">ntoken</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">tok</span><span class="p">.</span><span class="nx">Value</span><span class="p">()</span>
</pre></div>


<p>Once we have our ntoken value, the http client before contacting the
provider service needs to add it as the value for the <code>Athenz-Principal-Auth</code>
header:</p>
<div class="codehilite"><pre><span></span>    <span class="nx">req</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">http</span><span class="p">.</span><span class="nx">NewRequest</span><span class="p">(</span><span class="s">&quot;GET&quot;</span><span class="p">,</span> <span class="s">&quot;http://recommend-host/rec/v1/movie&quot;</span><span class="p">,</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="c1">// ...</span>
    <span class="nx">req</span><span class="p">.</span><span class="nx">Header</span><span class="p">.</span><span class="nx">Add</span><span class="p">(</span><span class="s">&quot;Athenz-Principal-Auth&quot;</span><span class="p">,</span> <span class="nx">ntoken</span><span class="p">)</span>
</pre></div>


<h4 id="build-go-zms_svctoken-client-utility">Build Go zms_svctoken Client Utility</h4>
<hr />
<p>To download, compile and install zms_svctoken utility, execute
the following command:</p>
<div class="codehilite"><pre><span></span>$ go get github.com/yahoo/athenz/utils/zms-svctoken/...
</pre></div>


<h3 id="server-changes">Server Changes</h3>
<hr />
<p>The full server source code is available from:</p>
<p>https://github.com/yahoo/athenz/tree/master/examples/go/centralized-use-case/server</p>
<h4 id="server-import-dependency-update">Server Import Dependency Update</h4>
<hr />
<p>First you need to update your go client to import the zms client
library.</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="p">(</span>
    <span class="s">&quot;github.com/yahoo/athenz/clients/go/zms&quot;</span>
<span class="p">)</span>
</pre></div>


<h4 id="authorization-checks">Authorization Checks</h4>
<hr />
<p>Before any authorization calls, we're going to check to make sure
our request contains the Athenz principal token:</p>
<div class="codehilite"><pre><span></span>    <span class="kd">const</span> <span class="nx">authHeader</span> <span class="p">=</span> <span class="s">&quot;Athenz-Principal-Auth&quot;</span>

    <span class="kd">func</span> <span class="nx">movieHandler</span><span class="p">(</span><span class="nx">w</span> <span class="nx">http</span><span class="p">.</span><span class="nx">ResponseWriter</span><span class="p">,</span> <span class="nx">r</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// first let&#39;s verify that we have an ntoken</span>
        <span class="k">if</span> <span class="nx">r</span><span class="p">.</span><span class="nx">Header</span><span class="p">[</span><span class="nx">authHeader</span><span class="p">]</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span>
            <span class="nx">http</span><span class="p">.</span><span class="nx">Error</span><span class="p">(</span><span class="nx">w</span><span class="p">,</span> <span class="s">&quot;403 - Missing NToken&quot;</span><span class="p">,</span> <span class="mi">403</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>
        <span class="o">...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Next, the most important part is to determine the resource and action
based on the given http request. Since we have a separate handler for
each endpoint:</p>
<div class="codehilite"><pre><span></span>    <span class="nx">http</span><span class="p">.</span><span class="nx">HandleFunc</span><span class="p">(</span><span class="s">&quot;/rec/v1/movie&quot;</span><span class="p">,</span> <span class="nx">movieHandler</span><span class="p">)</span>
    <span class="nx">http</span><span class="p">.</span><span class="nx">HandleFunc</span><span class="p">(</span><span class="s">&quot;/rec/v1/tvshow&quot;</span><span class="p">,</span> <span class="nx">tvshowHandler</span><span class="p">)</span>
</pre></div>


<p>each function knows exactly what the resource and the action is.
Finally, we are going to contact ZMS for the authorization check.</p>
<div class="codehilite"><pre><span></span>    <span class="kd">func</span> <span class="nx">movieHandler</span><span class="p">(</span><span class="nx">w</span> <span class="nx">http</span><span class="p">.</span><span class="nx">ResponseWriter</span><span class="p">,</span> <span class="nx">r</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">)</span> <span class="p">{</span>
        <span class="o">...</span>
        <span class="c1">// let&#39;s generate our resource value which is the</span>
        <span class="c1">// &lt;provider domain&gt;:&lt;entity value&gt;</span>
        <span class="nx">resource</span> <span class="o">:=</span> <span class="nx">providerDomain</span> <span class="o">+</span> <span class="s">&quot;:rec.movie&quot;</span>

        <span class="c1">// let&#39;s check with ZMS if the principal is authorized</span>
        <span class="k">if</span> <span class="p">!</span><span class="nx">authorizeRequest</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">Header</span><span class="p">[</span><span class="nx">authHeader</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="nx">resource</span><span class="p">,</span> <span class="s">&quot;read&quot;</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">http</span><span class="p">.</span><span class="nx">Error</span><span class="p">(</span><span class="nx">w</span><span class="p">,</span> <span class="s">&quot;403 - Unauthorized access&quot;</span><span class="p">,</span> <span class="mi">403</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>
        <span class="nx">io</span><span class="p">.</span><span class="nx">WriteString</span><span class="p">(</span><span class="nx">w</span><span class="p">,</span> <span class="s">&quot;Name: Slap Shot; Director: George Roy Hill\n&quot;</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nx">authorizeRequest</span><span class="p">(</span><span class="nx">ntoken</span><span class="p">,</span> <span class="nx">resource</span><span class="p">,</span> <span class="nx">action</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">bool</span> <span class="p">{</span>
        <span class="c1">// for our test example we&#39;re just going to skip</span>
        <span class="c1">// validating self-signed certificates</span>
        <span class="nx">tr</span> <span class="o">:=</span> <span class="nx">http</span><span class="p">.</span><span class="nx">Transport</span><span class="p">{}</span>
        <span class="nx">config</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">tls</span><span class="p">.</span><span class="nx">Config</span><span class="p">{}</span>
        <span class="nx">config</span><span class="p">.</span><span class="nx">InsecureSkipVerify</span> <span class="p">=</span> <span class="kc">true</span>
        <span class="nx">tr</span><span class="p">.</span><span class="nx">TLSClientConfig</span> <span class="p">=</span> <span class="nx">config</span>
        <span class="nx">zmsClient</span> <span class="o">:=</span> <span class="nx">zms</span><span class="p">.</span><span class="nx">ZMSClient</span><span class="p">{</span>
                <span class="nx">URL</span><span class="p">:</span>       <span class="nx">zmsUrl</span><span class="p">,</span>
                <span class="nx">Transport</span><span class="p">:</span> <span class="o">&amp;</span><span class="nx">tr</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="nx">zmsClient</span><span class="p">.</span><span class="nx">AddCredentials</span><span class="p">(</span><span class="nx">authHeader</span><span class="p">,</span> <span class="nx">ntoken</span><span class="p">)</span>
        <span class="nx">access</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">zmsClient</span><span class="p">.</span><span class="nx">GetAccess</span><span class="p">(</span><span class="nx">zms</span><span class="p">.</span><span class="nx">ActionName</span><span class="p">(</span><span class="nx">action</span><span class="p">),</span> <span class="nx">zms</span><span class="p">.</span><span class="nx">ResourceName</span><span class="p">(</span><span class="nx">resource</span><span class="p">),</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
                <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Unable to verify access: %v&quot;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">false</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nx">access</span><span class="p">.</span><span class="nx">Granted</span>
    <span class="p">}</span>
</pre></div>


<h4 id="build-server">Build Server</h4>
<hr />
<p>Checkout and build the server component:</p>
<div class="codehilite"><pre><span></span>$ go get github.com/yahoo/athenz/examples/go/centralized-use-case/server
</pre></div>


<h2 id="deploying-example-server">Deploying Example Server</h2>
<hr />
<p>To run the Go server, you just need to specify the ZMS Server url.
The server listens on port 8080:</p>
<div class="codehilite"><pre><span></span>$ recommend -zms https://&lt;zms-server&gt;:4443/zms/v1
</pre></div>


<h2 id="test-cases">Test Cases</h2>
<hr />
<p>Run the following test cases to verify authorization access
for specific services. We're running our go server on the local
box so we're using localhost as the hostname.</p>
<ul>
<li>The zms_svctoken utility should already be built and installed
on your host. cd to the directory that includes the private keys for the test
services we created in the section <a href="#athenz-management-setup">Athenz Management Setup</a>
above.</li>
</ul>
<h3 id="invalid-access-without-servicetoken">Invalid Access Without ServiceToken</h3>
<hr />
<p>For this test case we'll just use the curl client directly:</p>
<div class="codehilite"><pre><span></span>$ curl http://localhost:8080/rec/v1/movie
<span class="m">403</span> - Missing NToken
</pre></div>


<h3 id="movie-editor-access">Movie Editor Access</h3>
<hr />
<p>Movie service can successfully access /rec/v1/movie endpoint. So let's
first generate an NToken for this service and then contact our server:</p>
<div class="codehilite"><pre><span></span>$ <span class="nb">export</span> <span class="nv">NTOKEN</span><span class="o">=</span><span class="sb">`</span>zms_svctoken -domain editors -service movie -private-key movie_private.pem -key-version v0<span class="sb">`</span>
$ curl -H <span class="s2">&quot;Athenz-Principal-Auth: </span><span class="nv">$NTOKEN</span><span class="s2">&quot;</span> http://localhost:8080/rec/v1/movie
Name: Slap Shot<span class="p">;</span> Director: George Roy Hill
</pre></div>


<p>Movie service does not have access to /rec/v1/tvshow endpoint:</p>
<div class="codehilite"><pre><span></span>$ <span class="nb">export</span> <span class="nv">NTOKEN</span><span class="o">=</span><span class="sb">`</span>zms_svctoken -domain editors -service movie -private-key movie_private.pem -key-version v0<span class="sb">`</span>
$ curl -H <span class="s2">&quot;Athenz-Principal-Auth: </span><span class="nv">$NTOKEN</span><span class="s2">&quot;</span> http://localhost:8080/rec/v1/tvshow
<span class="m">403</span> - Unauthorized access
</pre></div>


<h3 id="tvshow-editor-access">TvShow Editor Access</h3>
<hr />
<p>TvShow service can successfully access /rec/v1/tvshow endpoint. So let's
first generate an NToken for this service and then contact our server:</p>
<div class="codehilite"><pre><span></span>$ <span class="nb">export</span> <span class="nv">NTOKEN</span><span class="o">=</span><span class="sb">`</span>zms_svctoken -domain editors -service tvshow -private-key tvshow_private.pem -key-version v0<span class="sb">`</span>
$ curl -H <span class="s2">&quot;Athenz-Principal-Auth: </span><span class="nv">$NTOKEN</span><span class="s2">&quot;</span> http://localhost:8080/rec/v1/tvshow
Name: Middle<span class="p">;</span> Channel: ABC
</pre></div>


<p>TvShow service does not have access to /rec/v1/movie endpoint:</p>
<div class="codehilite"><pre><span></span>$ <span class="nb">export</span> <span class="nv">NTOKEN</span><span class="o">=</span><span class="sb">`</span>zms_svctoken -domain editors -service tvshow -private-key tvshow_private.pem -key-version v0<span class="sb">`</span>
$ curl -H <span class="s2">&quot;Athenz-Principal-Auth: </span><span class="nv">$NTOKEN</span><span class="s2">&quot;</span> http://localhost:8080/rec/v1/movie
<span class="m">403</span> - Unauthorized access
</pre></div>


<h3 id="site-editor-access">Site Editor Access</h3>
<hr />
<p>Site service has access to both /rec/v1/tvshow and /rec/v1/movie endpoints:</p>
<div class="codehilite"><pre><span></span>$ <span class="nb">export</span> <span class="nv">NTOKEN</span><span class="o">=</span><span class="sb">`</span>zms_svctoken -domain editors -service site -private-key site_private.pem -key-version v0<span class="sb">`</span>
$ curl -H <span class="s2">&quot;Athenz-Principal-Auth: </span><span class="nv">$NTOKEN</span><span class="s2">&quot;</span> http://localhost:8080/rec/v1/movie
Name: Slap Shot<span class="p">;</span> Director: George Roy Hill

$ curl -H <span class="s2">&quot;Athenz-Principal-Auth: </span><span class="nv">$NTOKEN</span><span class="s2">&quot;</span> http://localhost:8080/rec/v1/tvshow
Name: Middle<span class="p">;</span> Channel: ABC
</pre></div>


<h3 id="other-test-cases">Other Test Cases</h3>
<hr />
<p>Now you can modify the <code>movie_editos, tvshow_editors, and site_editors</code> roles
in the <code>recommend</code> domain to add and remove the defined services and then
run the corresponding test cases to verify your access change.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../example_java_centralized_access/" title="Java Client/Servlet Example" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Java Client/Servlet Example
              </span>
            </div>
          </a>
        
        
          <a href="../dev_decentralized_access/" title="Decentralized Access Control" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Decentralized Access Control
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.9e1f3b71.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>