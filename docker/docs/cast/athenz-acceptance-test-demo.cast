{"version": 2, "width": 120, "height": 36, "timestamp": 1589440663, "env": {"SHELL": "/bin/bash", "TERM": "xterm-256color"}, "title": "Athenz Acceptance Test Demo"}
[0.030772, "o", "\u001b]0;wfan@docker:~/athenz/docker\u0007"]
[0.031932, "o", "\u001b[?1034h[wfan@docker docker]$ "]
[0.940461, "o", "d"]
[0.940664, "o", "ocker run"]
[0.940692, "o", " -"]
[0.940804, "o", "-r"]
[0.940835, "o", "m"]
[0.940913, "o", " "]
[0.940935, "o", "-"]
[0.941001, "o", "i"]
[0.941022, "o", "t"]
[0.941124, "o", " "]
[0.941172, "o", "\\"]
[0.941193, "o", "\r\n"]
[0.941373, "o", ">  "]
[0.94142, "o", " "]
[0.941441, "o", " "]
[0.941509, "o", " "]
[0.94155, "o", "--"]
[0.941624, "o", "n"]
[0.941667, "o", "et"]
[0.941749, "o", "wo"]
[0.941796, "o", "r"]
[0.941841, "o", "k"]
[0.941919, "o", "=\""]
[0.941969, "o", "$"]
[0.942012, "o", "{"]
[0.94211, "o", "D"]
[0.942155, "o", "O"]
[0.942241, "o", "CK"]
[0.942286, "o", "E"]
[0.942353, "o", "R"]
[0.942394, "o", "_"]
[0.942466, "o", "N"]
[0.942507, "o", "E"]
[0.942577, "o", "T"]
[0.942618, "o", "W"]
[0.942689, "o", "O"]
[0.94273, "o", "R"]
[0.942801, "o", "K"]
[0.942841, "o", "}"]
[0.942915, "o", "\""]
[0.942956, "o", " "]
[0.943036, "o", "\\\r\n"]
[0.943224, "o", ">   "]
[0.943271, "o", "  "]
[0.943344, "o", "-"]
[0.943385, "o", "v "]
[0.943461, "o", "\""]
[0.943502, "o", "${"]
[0.943577, "o", "B"]
[0.943618, "o", "AS"]
[0.943695, "o", "E"]
[0.943736, "o", "_"]
[0.943776, "o", "D"]
[0.943851, "o", "I"]
[0.943892, "o", "R"]
[0.943933, "o", "}"]
[0.944, "o", ":"]
[0.944041, "o", "/"]
[0.944082, "o", "a"]
[0.944174, "o", "t"]
[0.944216, "o", "h"]
[0.944256, "o", "e"]
[0.944336, "o", "n"]
[0.944377, "o", "z"]
[0.944445, "o", "\""]
[0.944486, "o", " "]
[0.944565, "o", "\\\r\n"]
[0.944686, "o", "> "]
[0.944728, "o", "  "]
[0.944802, "o", " "]
[0.944843, "o", " -"]
[0.944916, "o", "-"]
[0.944957, "o", "us"]
[0.945031, "o", "e"]
[0.945072, "o", "r "]
[0.945173, "o", "\""]
[0.945214, "o", "$("]
[0.945289, "o", "i"]
[0.94533, "o", "d"]
[0.945395, "o", " "]
[0.945436, "o", "-"]
[0.945504, "o", "u"]
[0.945545, "o", ")"]
[0.945616, "o", ":"]
[0.945656, "o", "$"]
[0.945726, "o", "("]
[0.945767, "o", "i"]
[0.945837, "o", "d"]
[0.945878, "o", " "]
[0.945948, "o", "-"]
[0.945989, "o", "g"]
[0.94606, "o", ")"]
[0.946114, "o", "\""]
[0.9462, "o", " "]
[0.946243, "o", "\\\r\n"]
[0.946386, "o", ">  "]
[0.946429, "o", " "]
[0.94647, "o", " "]
[0.946546, "o", " "]
[0.946588, "o", "at"]
[0.946663, "o", "h"]
[0.946704, "o", "en"]
[0.946779, "o", "z"]
[0.94682, "o", "-s"]
[0.946897, "o", "e"]
[0.946938, "o", "tu"]
[0.947014, "o", "p"]
[0.947055, "o", "-"]
[0.947114, "o", "e"]
[0.947197, "o", "n"]
[0.947239, "o", "v"]
[0.947278, "o", " "]
[0.947373, "o", "\\\r\n"]
[0.947491, "o", "> "]
[0.947532, "o", "  "]
[0.947606, "o", " "]
[0.947647, "o", " s"]
[0.947721, "o", "h"]
[0.947761, "o", " /"]
[0.947835, "o", "a"]
[0.947876, "o", "th"]
[0.947952, "o", "e"]
[0.947993, "o", "nz"]
[0.94807, "o", "/"]
[0.948124, "o", "d"]
[0.948184, "o", "o"]
[0.948225, "o", "c"]
[0.948292, "o", "k"]
[0.948333, "o", "e"]
[0.948404, "o", "r"]
[0.948445, "o", "/"]
[0.948514, "o", "d"]
[0.948555, "o", "e"]
[0.948625, "o", "p"]
[0.948665, "o", "l"]
[0.948736, "o", "o"]
[0.948777, "o", "y"]
[0.948848, "o", "-"]
[0.948889, "o", "s"]
[0.948962, "o", "c"]
[0.949003, "o", "r"]
[0.949075, "o", "i"]
[0.949133, "o", "p"]
[0.949215, "o", "t"]
[0.949257, "o", "s"]
[0.949329, "o", "/"]
[0.94937, "o", "a"]
[0.949444, "o", "c"]
[0.949485, "o", "c"]
[0.94956, "o", "e"]
[0.9496, "o", "p"]
[0.949676, "o", "t"]
[0.949717, "o", "a"]
[0.949794, "o", "n"]
[0.949836, "o", "c"]
[0.949911, "o", "e"]
[0.949953, "o", "-"]
[0.95003, "o", "t"]
[0.950071, "o", "e"]
[0.950166, "o", "s"]
[0.950237, "o", "t"]
[0.950279, "o", "."]
[0.950359, "o", "s"]
[0.950399, "o", "h"]
[0.950485, "o", ";\r\n"]
[1.384338, "o", "exit;\r\n"]
[1.403812, "o", "\u001b[36m"]
[1.404247, "o", "\r\n#################################################\r\n### Acceptance Test\r\n#################################################\r\n\r\n"]
[1.404998, "o", "\u001b(B\u001b[m"]
[1.421362, "o", "\u001b[35m"]
[1.422212, "o", "Done loading ENV. from /athenz/docker/env.sh\r\n"]
[1.423028, "o", "\u001b(B\u001b[m"]
[1.426378, "o", "\u001b[35m"]
[1.427352, "o", "NOTE: You are using the DEV settings in dev-env-exports.sh !!!\r\n"]
[1.428249, "o", "\u001b(B\u001b[m"]
[1.431237, "o", "\u001b[32m"]
[1.432072, "o", "Test preparation\r\n"]
[1.433117, "o", "\u001b(B\u001b[m"]
[1.436, "o", "\u001b[33m"]
[1.436998, "o", "1. create workspace\r\n"]
[1.437879, "o", "\u001b(B\u001b[m"]
[1.441921, "o", "\u001b[37m"]
[1.442772, "o", "/athenz/docker/sample/test_service\r\n├── body.json\r\n├── cert.pem\r\n├── config.cnf\r\n├── csr.pem\r\n├── header.http\r\n├── key.pem\r\n├── public.pem\r\n├── response.json\r\n├── role_cert.pem"]
[1.442927, "o", "\r\n├── role_csr.pem\r\n├── role_key.pem\r\n└── test_service.crt\r\n\r\n0 directories, 12 files\r\n"]
[1.443951, "o", "\u001b(B\u001b[m"]
[1.446933, "o", "\u001b[33m"]
[1.447855, "o", "2. prepare cnf file for creating CSR\r\n"]
[1.448824, "o", "\u001b(B\u001b[m"]
[1.452874, "o", "\u001b[35m"]
[1.45372, "o", "NOTE: using default prop: \"athenz.zts.cert_dns_suffix=.athenz.cloud\"\r\n"]
[1.454698, "o", "\u001b(B\u001b[m"]
[1.457628, "o", "\u001b[37m"]
[1.458528, "o", "CN = \"Not Defined\"\r\n\r\n[req]\r\ndefault_bits = 2048\r\nprompt = no\r\ndefault_md = sha256\r\nreq_extensions = req_ext\r\ndistinguished_name = dn\r\nstring_mask = utf8only\r\n\r\n"]
[1.458683, "o", "[ dn ]\r\ncountryName = US\r\norganizationName = Athenz\r\ncommonName = ${ENV::CN}\r\n\r\n[ service_ext ]\r\nbasicConstraints = critical, CA:FALSE\r\nextendedKeyUsage = clientAuth\r\nsubjectAltName = @service_alt_names\r\n[ service_alt_names ]\r\nDNS.1 = test_service.testing.dns.athenz.cloud\r\nDNS.2 = test_service.testing.instanceid.athenz.dns.athenz.cloud\r\n\r\n[ role_ext ]\r\nbasicConstraints = critical, CA:FALSE\r\nextendedKeyUsage = clientAuth\r\nsubjectAltName = @role_alt_names\r\n[ role_alt_names ]\r\nemail.1 = testing.test_service@dns.athenz.cloud\r\n"]
[1.459822, "o", "\u001b(B\u001b[m"]
[1.462888, "o", "\u001b[33m"]
[1.4639, "o", "3. prepare credentails for `test_service`\r\n"]
[1.464958, "o", "\u001b(B\u001b[m"]
[1.468135, "o", "\u001b[33m"]
[1.469131, "o", "3.1. create CSR\r\n"]
[1.470155, "o", "\u001b(B\u001b[m"]
[1.473223, "o", "\u001b[37m"]
[1.474632, "o", "Generating a RSA private key\r\n"]
[1.475635, "o", "."]
[1.477036, "o", "."]
[1.478347, "o", "."]
[1.47969, "o", "."]
[1.480986, "o", "."]
[1.482329, "o", "."]
[1.483654, "o", "."]
[1.485009, "o", "."]
[1.486345, "o", "."]
[1.487655, "o", "."]
[1.488996, "o", "."]
[1.490348, "o", "."]
[1.491666, "o", "."]
[1.493023, "o", "."]
[1.494356, "o", "."]
[1.495689, "o", "."]
[1.496963, "o", "."]
[1.49829, "o", "."]
[1.49958, "o", "."]
[1.500943, "o", "."]
[1.50226, "o", "."]
[1.503606, "o", "."]
[1.504975, "o", "."]
[1.506265, "o", "."]
[1.507517, "o", "."]
[1.508835, "o", "."]
[1.51017, "o", "."]
[1.511456, "o", "."]
[1.512787, "o", "."]
[1.514131, "o", "."]
[1.515463, "o", "."]
[1.516786, "o", "."]
[1.518091, "o", "."]
[1.519498, "o", "."]
[1.520815, "o", "."]
[1.522167, "o", "."]
[1.523488, "o", "."]
[1.524765, "o", "."]
[1.526119, "o", "."]
[1.527413, "o", "."]
[1.528735, "o", "."]
[1.530048, "o", "."]
[1.531363, "o", "."]
[1.532694, "o", "."]
[1.534023, "o", "."]
[1.535336, "o", "."]
[1.535788, "o", "+"]
[1.536292, "o", "+"]
[1.536741, "o", "+"]
[1.537179, "o", "+"]
[1.537659, "o", "+\r\n"]
[1.538596, "o", "."]
[1.539931, "o", "."]
[1.54133, "o", "."]
[1.54265, "o", "."]
[1.543958, "o", "."]
[1.54528, "o", "."]
[1.546608, "o", "."]
[1.547877, "o", "."]
[1.549242, "o", "."]
[1.550536, "o", "."]
[1.551855, "o", "."]
[1.553185, "o", "."]
[1.554482, "o", "."]
[1.555819, "o", "."]
[1.557139, "o", "."]
[1.558482, "o", "."]
[1.559774, "o", "."]
[1.561119, "o", "."]
[1.562424, "o", "."]
[1.563828, "o", "."]
[1.565123, "o", "."]
[1.566461, "o", "."]
[1.567756, "o", "."]
[1.569087, "o", "."]
[1.570428, "o", "."]
[1.571771, "o", "."]
[1.573052, "o", "."]
[1.574377, "o", "."]
[1.575737, "o", "."]
[1.577024, "o", "."]
[1.578326, "o", "."]
[1.57967, "o", "."]
[1.580961, "o", "."]
[1.582308, "o", "."]
[1.583619, "o", "."]
[1.584911, "o", "."]
[1.586221, "o", "."]
[1.587529, "o", "."]
[1.588836, "o", "."]
[1.590218, "o", "."]
[1.591497, "o", "."]
[1.591949, "o", "+"]
[1.592402, "o", "+"]
[1.59285, "o", "+"]
[1.593319, "o", "+"]
[1.593793, "o", "+\r\n"]
[1.59422, "o", "writing new private key to '/athenz/docker/sample/test_service/key.pem'\r\n"]
[1.594391, "o", "-----\r\n"]
[1.596861, "o", "\r\n"]
[1.60108, "o", "Certificate Request:\r\n"]
[1.601353, "o", "    Data:\r\n        Version: 1 (0x0)\r\n        Subject: C = US, O = Athenz, CN = testing.test_service\r\n        Subject Public Key Info:\r\n            Public Key Algorithm: rsaEncryption\r\n                RSA Public-Key: (2048 bit)\r\n                Modulus:\r\n                    00:c4:89:cd:34:70:4f:ff:36:5e:c1:54:f5:fe:ba:\r\n                    6e:d7:e1:1c:a2:2a:6d:b3:45:80:7d:e4:a8:09:0c:\r\n                    f6:54:c5:a1:7b:e6:80:1c:2d:ca:56:d3:0f:36:e5:\r\n                    84:e7:1b:88:1e:e0:55:c5:5c:c3:22:88:c7:c0:b6:\r\n                    9c:57:90:11:61:f6:bb:a8:14:62:bd:d9:e8:ef:fe:\r\n                    c4:9b:01:cf:4f:7e:a8:6e:79:76:be:1f:23:da:46:\r\n                    62:d7:9f:c7:02:88:bc:91:ca:a3:7c:71:74:6c:06:\r\n                    92:f8:a2:11:2a:02:70:47:8c:19:f5:03:a5:d2:68:\r\n                    45:88:14:af:fb:a4:1a:ae:d4:32:18:91:69:f3:ea:\r\n                    e5:f0:89:00:7e:a5:0f:d5:03:2b:7e:32:a0:19:df:\r\n                    2c:6a:f5:3b:ae:fb:1c:8e:4c:0e:2d:e1:9a:41:6c:\r\n                    98:0d:2f:a9:0"]
[1.601414, "o", "7:1e:fe:f6:00:f1:3d:8e:65:93:e2:\r\n                    36:74:ad:8e:c2:86:03:f2:a7:15:48:36:70:a4:45:\r\n                    6e:b7:0b:92:7b:67:10:24:05:44:c2:e5:bf:9f:f3:\r\n                    cf:1d:1a:c8:42:44:34:53:ff:19:75:ee:2d:36:e1:\r\n                    11:0c:01:08:a4:1c:64:32:1e:ce:8a:19:47:a8:24:\r\n                    3d:ac:ef:a7:92:0e:63:a6:5b:e6:17:e7:11:22:fe:\r\n                    1d:ed\r\n                Exponent: 65537 (0x10001)\r\n        Attributes:\r\n        Requested Extensions:\r\n            X509v3 Basic Constraints: critical\r\n                CA:FALSE\r\n            X509v3 Extended Key Usage: \r\n                TLS Web Client Authentication\r\n            X509v3 Subject Alternative Name: \r\n                DNS:test_service.testing.dns.athenz.cloud, DNS:test_service.testing.instanceid.athenz.dns.athenz.cloud\r\n    Signature Algorithm: sha256WithRSAEncryption\r\n         45:78:06:11:c1:f6:93:d3:89:d9:f0:14:d5:35:44:31:41:a2:\r\n         66:a2:b9:2e:69:41:de:82:34:48:fb:82:a5:0d:15:42:e3:21:\r\n         af:26:1f:31:8b:"]
[1.601526, "o", "23:0e:c3:f1:28:fc:e7:4a:7f:ba:92:ff:c6:\r\n         26:76:8b:01:e0:28:9d:94:5c:66:61:e2:9c:c4:23:3a:42:05:\r\n         34:bf:8a:df:22:57:f0:1b:d1:8a:90:2a:fa:47:e5:b2:6b:c7:\r\n         db:52:f1:86:38:e0:08:f6:19:65:f0:69:33:8e:2a:f4:02:db:\r\n         21:66:9f:d7:b3:19:8b:de:54:f4:c7:b7:a8:13:41:9a:d1:21:\r\n         a2:42:58:60:3c:a9:9f:10:a9:f4:e9:55:04:0d:6a:78:e6:1c:\r\n         b7:d7:1d:de:76:07:90:4c:95:9d:49:e9:8d:b7:af:7f:3f:f5:\r\n         ec:79:7e:f8:12:ff:24:dc:e0:18:76:87:ba:53:5a:69:3e:19:\r\n         f6:de:84:54:5d:cf:5f:f1:23:26:64:33:57:c2:6e:b0:bd:7f:\r\n         ce:64:b0:ad:7d:39:e0:65:dd:49:96:45:84:7e:98:59:7d:e0:\r\n         5b:25:8b:de:de:d6:c0:26:73:91:e2:11:c1:0e:bf:d1:f8:73:\r\n         db:a8:68:3f:ec:60:e1:47:fc:58:cf:07:60:9f:29:d2:24:b8:\r\n         42:af:46:c6\r\n-----BEGIN CERTIFICATE REQUEST-----\r\nMIIDJTCCAg0CAQAwPTELMAkGA1UEBhMCVVMxDzANBgNVBAoMBkF0aGVuejEdMBsG\r\nA1UEAwwUdGVzdGluZy50ZXN0X3NlcnZpY2UwggEiMA0GCSqGSIb3DQEBAQUAA4IB\r\nDwAwggEKAoIBAQDEic00cE//Nl7BVPX+um7X4RyiKm2zRYB95KgJDPZUxaF75oAc\r\nLcpW0w825YT"]
[1.601655, "o", "nG4ge4FXFXMMiiMfAtpxXkBFh9ruoFGK92ejv/sSbAc9PfqhueXa+\r\nHyPaRmLXn8cCiLyRyqN8cXRsBpL4ohEqAnBHjBn1A6XSaEWIFK/7pBqu1DIYkWnz\r\n6uXwiQB+pQ/VAyt+MqAZ3yxq9Tuu+xyOTA4t4ZpBbJgNL6kHHv72APE9jmWT4jZ0\r\nrY7ChgPypxVINnCkRW63C5J7ZxAkBUTC5b+f888dGshCRDRT/xl17i024REMAQik\r\nHGQyHs6KGUeoJD2s76eSDmOmW+YX5xEi/h3tAgMBAAGggaIwgZ8GCSqGSIb3DQEJ\r\nDjGBkTCBjjAMBgNVHRMBAf8EAjAAMBMGA1UdJQQMMAoGCCsGAQUFBwMCMGkGA1Ud\r\nEQRiMGCCJXRlc3Rfc2VydmljZS50ZXN0aW5nLmRucy5hdGhlbnouY2xvdWSCN3Rl\r\nc3Rfc2VydmljZS50ZXN0aW5nLmluc3RhbmNlaWQuYXRoZW56LmRucy5hdGhlbnou\r\nY2xvdWQwDQYJKoZIhvcNAQELBQADggEBAEV4BhHB9pPTidnwFNU1RDFBomaiuS5p\r\nQd6CNEj7gqUNFULjIa8mHzGLIw7D8Sj850p/upL/xiZ2iwHgKJ2UXGZh4pzEIzpC\r\nBTS/it8iV/Ab0YqQKvpH5bJrx9tS8YY44Aj2GWXwaTOOKvQC2yFmn9ezGYveVPTH\r\nt6gTQZrRIaJCWGA8qZ8QqfTpVQQNanjmHLfXHd52B5BMlZ1J6Y23r38/9ex5fvgS\r\n/yTc4Bh2h7pTWmk+GfbehFRdz1/xIyZkM1fCbrC9f85ksK19OeBl3UmWRYR+mFl9\r\n4Fsli97e1sAmc5HiEcEOv9H4c9uoaD/sYOFH/FjPB2CfKdIkuEKvRsY=\r\n-----END CERTIFICATE REQUEST-----\r\n"]
[1.602809, "o", "\u001b(B\u001b[m"]
[1.606032, "o", "\u001b[33m"]
[1.606991, "o", "3.2. sign client certificate\r\n"]
[1.607873, "o", "\u001b(B\u001b[m"]
[1.610958, "o", "\u001b[37m"]
[1.624022, "o", "Signature ok\r\nsubject=C = US, O = Athenz, CN = "]
[1.62428, "o", "testing.t"]
[1.624473, "o", "est_service\r\n"]
[1.624873, "o", "Getting CA Private Key\r\n"]
[1.63485, "o", "\r\n"]
[1.636078, "o", "-rw-r--r-- 1 111626 users 3647 May 14 07:17 /athenz/docker/sample/test_service/cert.pem\r\n-rw------- 1 111626 users 1704 May 14 07:17 /athenz/docker/sample/test_service/key.pem\r\n"]
[1.636293, "o", "\r\n"]
[1.651888, "o", "Certificate:\r\n    Data:\r\n        Version: 3 (0x2)\r\n        Serial Number:\r\n            2a:51:06:98:a6:c4:b0:94:2f:b1:10:a5:8c:8b:fe:37:f5:5d:f7:fb\r\n        Signature Algorithm: sha256WithRSAEncryption\r\n        Issuer: C = US, O = Athenz, CN = Sample Self Signed Intermediate CA\r\n"]
[1.652273, "o", "        Validity\r\n            Not Before: May 14 07:17:45 2020 GMT\r\n            Not After : May 12 07:17:45 2030 GMT\r\n        Subject: C = US, O = Athenz, CN = testing.test_service\r\n        Subject Public Key Info:\r\n            Public Key Algorithm: rsaEncryption\r\n                RSA Public-Key: (2048 bit)\r\n                Modulus:\r\n                    00:c4:89:cd:34:70:4f:ff:36:5e:c1:54:f5:fe:ba:\r\n                    6e:d7:e1:1c:a2:2a:6d:b3:45:80:7d:e4:a8:09:0c:\r\n                    f6:54:c5:a1:7b:e6:80:1c:2d:ca:56:d3:0f:36:e5:\r\n                    84:e7:1b:88:1e:e0:55:c5:5c:c3:22:88:c7:c0:b6:\r\n                    9c:57:90:11:61:f6:bb:a8:14:62:bd:d9:e8:ef:fe:\r\n                    c4:9b:01:cf:4f:7e:a8:6e:79:76:be:1f:23:da:46:\r\n                    62:d7:9f:c7:02:88:bc:91:"]
[1.652451, "o", "ca:a3:7c:71:74:6c:06:\r\n                    92:f8:a2:11:2a:02:70:47:8c:19:f5:03:a5:d2:68:\r\n                    45:88:14:af:fb:a4:1a:ae:d4:32:18:91:69:f3:ea:\r\n                    e5:f0:89:00:7e:a5:0f:d5:03:2b:7e:32:a0:19:df:\r\n                    2c:6a:f5:3b:ae:fb:1c:8e:4c:0e:2d:e1:9a:41:6c:\r\n                    98:0d:2f:a9:07:1e:fe:f6:00:f1:3d:8e:65:93:e2:\r\n                    36:74:ad:8e:c2:86:03:f2:a7:15:48:36:70:a4:45:\r\n                    6e:b7:0b:92:7b:67:10:24:05:44:c2:e5:bf:9f:f3:\r\n                    cf:1d:1a:c8:42:44:34:53:ff:19:75:ee:2d:36:e1:\r\n                    11:0c:01:08:a4:1c:64:32:1e:ce:8a:19:47:a8:24:\r\n                    3d:ac:ef:a7:92:0e:63:a6:5b:e6:17:e7:11:22:fe:\r\n                    1d:ed\r\n                Exponent: 65537 (0x10001)\r\n        X509v3 extensions:\r\n            X509v3 Basic Constraints: critical\r\n                CA:FALSE\r\n            X509v3 Extended Key Usage: \r\n                TLS Web Client Authentication\r\n            X509v3 Subject Alternative Name: \r\n                DNS:test"]
[1.652536, "o", "_service.testing.dns.athenz.cloud, DNS:test_service.testing.instanceid.athenz.dns.athenz.cloud\r\n    Signature Algorithm: sha256WithRSAEncryption\r\n         85:2e:51:a9:bc:2e:bf:ee:6f:3e:8a:47:ce:98:d5:34:6f:96:\r\n         41:22:6b:b2:0e:a0:b0:32:d3:e1:27:09:56:76:24:3d:1b:21:\r\n         3b:b3:88:20:39:c6:cf:b8:ff:09:c6:64:b3:5c:e9:ca:6d:a0:\r\n         ae:41:22:b9:e7:3b:d4:f7:90:45:ca:61:7f:56:f6:b2:38:fc:\r\n         b0:3c:63:bd:08:ef:aa:e7:92:8d:34:35:09:0d:ee:45:82:a7:\r\n         59:d3:3f:84:9d:92:89:79:8f:37:ef:b0:21:c0:8d:f4:eb:ff:\r\n         08:77:f8:a7:c7:06:06:ce:de:db:a3:c4:70:ac:f3:e1:48:bc:\r\n         1a:0b:af:e3:3b:c9:7b:c5:31:33:9a:d2:08:6e:9d:0d:70:da:\r\n         14:4f:38:5e:0a:4e:04:76:9f:74:bb:74:8b:1c:33:ea:4d:c9:\r\n         fb:b8:8f:a3:f5:83:57:ca:19:19:8a:cf:49:e6:f0:5f:e1:54:\r\n         1a:9f:af:9c:1d:7f:ae:49:8e:ab:11:3d:3f:4a:31:b8:37:eb:\r\n         a0:71:1e:c4:7b:7e:76:30:84:0a:ae:07:5f:1a:e7:bc:f4:3d:\r\n         33:0b:60:df:b2:fe:0b:a8:ad:2b:e8:b5:8f:05:95:0a:a0:b3:"]
[1.652905, "o", "\r\n         16:71:af:91:5e:2c:12:48:1f:03:44:05:95:fd:cc:43:c6:4e:\r\n         4c:9d:50:bb:91:40:bf:ea:4a:86:af:8e:3a:ca:f5:33:8c:13:\r\n         4a:7d:03:52:02:47:d1:a9:6c:0a:b9:b6:3c:0a:b8:31:e7:39:\r\n         14:40:6b:61:33:aa:49:59:72:6e:bc:d5:1c:6f:56:61:52:fe:\r\n         f8:db:c1:65:57:76:fb:cc:91:d6:28:dd:23:d7:62:dc:6a:f5:\r\n         99:2a:e6:5c:22:8e:e1:91:cb:6b:35:5d:00:ec:dc:bf:e8:54:\r\n         0a:3a:5b:d6:89:9f:b7:d5:82:a3:53:fd:ef:bf:7b:16:64:cb:\r\n         69:1a:bd:de:8c:19:52:fb:1c:60:21:d2:ad:c8:29:d1:16:72:"]
[1.65302, "o", "\r\n         96:fe:38:3e:74:1e:0e:1b:cf:a4:92:e1:05:7f:be:36:f8:ed:\r\n         fe:ad:6e:e9:32:e5:ab:37:ea:ca:a5:6f:05:87:58:be:97:01:\r\n         ad:16:36:69:a1:f6:49:c2:16:48:f9:f5:5b:f4:e0:90:b8:57:\r\n         e3:f2:12:b8:e5:c1:c9:91:f8:9d:a0:dd:12:bd:7b:8f:7a:0a:\r\n         94:56:22:77:e5:b5:da:d2:89:4d:e5:31:83:95:cb:55:41:3f:\r\n         46:6f:03:0b:b7:9b:7b:86:46:87:f1:2b:31:f6:31:f1:b4:22:\r\n         52:63:b8:94:1b:24:6f:16:2f:ae:4a:a8:64:85:39:e7:91:96:\r\n         b4:7e:e5:1c:4d:01:00:05\r\n-----BEGIN CERTIFICATE-----\r\nMIIEqDCCApCgAwIBAgIUKlEGmKbEsJQvsRCljIv+N/Vd9/swDQYJKoZIhvcNAQEL\r\nBQAwSzELMAkGA1UEBhMCVVMxDzANBgNVBAoMBkF0aGVuejErMCkGA1UEAwwiU2Ft\r\ncGxlIFNlbGYgU2lnbmVkIEludGVybWVkaWF0ZSBDQTAeFw0yMDA1MTQwNzE3NDVa\r\nFw0zMDA1MTIwNzE3NDVaMD0xCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZBdGhlbnox\r\nHTAbBgNVBAMMFHRlc3RpbmcudGVzdF9zZXJ2aWNlMIIBIjANBgkqhkiG9w0BAQEF\r\nAAOCAQ8AMIIBCgKCAQEAxInNNHBP/zZewVT1/rpu1+Ecoipts0WAfeSoCQz2VMWh\r\ne+aAHC3KVtMPNuWE5xuIHuBVxVzDIojHwLacV5ARYfa7qBRivdno7/7EmwHPT36o\r\nbnl2vh8j2kZi15/HAoi8kcqjfHF0bAaS+KIRKgJwR4"]
[1.653132, "o", "wZ9QOl0mhFiBSv+6QartQy\r\nGJFp8+rl8IkAfqUP1QMrfjKgGd8savU7rvscjkwOLeGaQWyYDS+pBx7+9gDxPY5l\r\nk+I2dK2OwoYD8qcVSDZwpEVutwuSe2cQJAVEwuW/n/PPHRrIQkQ0U/8Zde4tNuER\r\nDAEIpBxkMh7OihlHqCQ9rO+nkg5jplvmF+cRIv4d7QIDAQABo4GRMIGOMAwGA1Ud\r\nEwEB/wQCMAAwEwYDVR0lBAwwCgYIKwYBBQUHAwIwaQYDVR0RBGIwYIIldGVzdF9z\r\nZXJ2aWNlLnRlc3RpbmcuZG5zLmF0aGVuei5jbG91ZII3dGVzdF9zZXJ2aWNlLnRl\r\nc3RpbmcuaW5zdGFuY2VpZC5hdGhlbnouZG5zLmF0aGVuei5jbG91ZDANBgkqhkiG\r\n9w0BAQsFAAOCAgEAhS5Rqbwuv+5vPopHzpjVNG+WQSJrsg6gsDLT4ScJVnYkPRsh\r\nO7OIIDnGz7j/CcZks1zpym2grkEiuec71PeQRcphf1b2sjj8sDxjvQjvqueSjTQ1\r\nCQ3uRYKnWdM/hJ2SiXmPN++wIcCN9Ov/CHf4p8cGBs7e26PEcKzz4Ui8Gguv4zvJ"]
[1.653337, "o", "\r\ne8UxM5rSCG6dDXDaFE84XgpOBHafdLt0ixwz6k3J+7iPo/WDV8oZGYrPSebwX+FU\r\nGp+vnB1/rkmOqxE9P0oxuDfroHEexHt+djCECq4HXxrnvPQ9Mwtg37L+C6itK+i1\r\njwWVCqCzFnGvkV4sEkgfA0QFlf3MQ8ZOTJ1Qu5FAv+pKhq+OOsr1M4wTSn0DUgJH\r\n0alsCrm2PAq4Mec5FEBrYTOqSVlybrzVHG9WYVL++NvBZVd2+8yR1ijdI9di3Gr1\r\nmSrmXCKO4ZHLazVdAOzcv+hUCjpb1omft9WCo1P97797FmTLaRq93owZUvscYCHS\r\nrcgp0RZylv44PnQeDhvPpJLhBX++Nvjt/q1u6TLlqzfqyqVvBYdYvpcBrRY2aaH2\r\nScIWSPn1W/TgkLhX4/ISuOXByZH4naDdEr17j3oKlFYid+W12tKJTeUxg5XLVUE/\r\n"]
[1.654561, "o", "Rm8DC7ebe4ZGh/ErMfYx8bQiUmO4lBskbxYvrkqoZIU555GWtH7lHE0BAAU=\r\n-----END CERTIFICATE-----\r\n"]
[1.65586, "o", "\u001b(B\u001b[m"]
[1.658958, "o", "\u001b[35m"]
[1.659837, "o", "NOTE: intermediate CA is appended to cert.pem\r\n"]
[1.660857, "o", "\u001b(B\u001b[m"]
[1.664136, "o", "\u001b[33m"]
[1.665128, "o", "3.3. verify client certificate\r\n"]
[1.666018, "o", "\u001b(B\u001b[m"]
[1.669121, "o", "\u001b[37m"]
[1.671933, "o", "CONNECTED(00000003)\r\n"]
[1.694705, "o", "depth=1 C = US, O = Athenz, CN = Sampl"]
[1.694972, "o", "e Self Signed Athenz CA\r\nverify return:1\r\n"]
[1.695345, "o", "depth=0 C = US, O = Athenz, CN = Sample Self Signed ZTS\r\nverify return:1\r\n"]
[1.701846, "o", "---\r\nCertificate chain\r\n 0 s:C = US, O = Athenz, CN = Sample Self Signed ZTS\r\n   i:C = US, O = Athenz, CN = Sample Self Signed Athenz CA\r\n---\r\nServer certificate\r\n-----BEGIN CERTIFICATE-----\r\nMIIFozCCA4ugAwIBAgIURHMoFflhNMFSv9wruOJGlAqQv7UwDQYJKoZIhvcNAQEL\r\nBQAwRTELMAkGA1UEBhMCVVMxDzANBgNVBAoMBkF0aGVuejElMCMGA1UEAwwcU2Ft\r\ncGxlIFNlbGYgU2lnbmVkIEF0aGVueiBDQTAeFw0yMDA1MTQwNzE2MzRaFw0zMDA1\r\nMTIwNzE2MzRaMD8xCzAJBgNVBAYTAlVTMQ8wDQYDVQQKDAZBdGhlbnoxHzAdBgNV\r\nBAMMFlNhbXBsZSBTZWxmIFNpZ25lZCBaVFMwggIiMA0GCSqGSIb3DQEBAQUAA4IC\r\nDwAwggIKAoICAQCsv5gFdUX2B8gHBAFtnAd7WUts4ptF9xPZvoziJ9Ny9Uak/UBG\r\nKrZF/NAgDWwvP8Sb/oSPxkcK24Le6bZv+bWc0buGxqNnbgxGQwy1ZwIXznB0wS9P\r\nvGL0+Px/etbuFipLAf0iOyMUAgNbHwSkZFwomFbBI3WAvUAX4WzfKLK2VUuSTeFf\r\nW56JPB1wPgLHrKdb6d4q9YwoMT2VoIhCnT/u0x3G/+ue1kEvFLqDKrbmKVBAXRrt\r\nsBdf/PmVv8V3oedyRLud8Yx9q9DLBjlWajCpe6KS1gpo2JlKJopdLLiM/LfeIjvo\r\nYybfJHtdeFoaG0PSA1hA45NpTnoPDLnJRjjrgNACHzgmEqvn1+OdMuiiT5J005in\r\noGSJj3OjnWsC6kFAg7ecZA+9Tdo5uFfsMqKkqwWj4NhpJ3eDKSe6r1ayeWCFXhRn\r\nbJFitAJPjt8xeoV7aErzfHGTBAc8fKPSrvBoBP94"]
[1.70208, "o", "3D9CmVYeYulWZnSzNTHyUALX\r\ng2IiQts5dNdzRm73qYQsd3jJrB+h1JKR2czhqLtG1GnR+p3W9DLZ539PYMul74zX\r\nlbQi7tLyRn4I6lAx/e76ZTlpu/oaDdxsw5OH8lrdVPM3ERRPnibBSSTM2cqb+9XO\r\nsO6PporYSXABlrGrlf2SRrJWVM/V2jO80/41W3KaxesE0kjELxsxNjSyJQIDAQAB\r\no4GQMIGNMAwGA1UdEwEB/wQCMAAwDgYDVR0PAQH/BAQDAgXgMB0GA1UdDgQWBBRz\r\nLO3Xj8Qu2dRw3d7FgN1T4b8fDjAfBgNVHSMEGDAWgBRtFjUOuf0u5ombQWO0NzDi\r\n0VYOUjAtBgNVHREEJjAkgglsb2NhbGhvc3SCEWF0aGVuei16dHMtc2VydmVyhwR/\r\nAAABMA0GCSqGSIb3DQEBCwUAA4ICAQAKROcXFndmiXj6TLehRzQrMes9Km9HKZQ2\r\nuT0lMNRIKURevpNoy4m9XlQlRz6ZBFsBfGO7eW7F6sMgfxq+49GcFqM3KmtSh+Wy\r\n+0CNMjpFdodC3x1wQ/FfNPpr3aa1PgnwD0cNLrrj/8E9681qYRXWwkElHjgGrDA1\r\nTedfvYps7r7VXs9Y0SpyTHRrjxLM1bRZGupH8x45aCwn5+Fz1GVETrZsN05dBCRk\r\np+qRGhnVOxHxAclRSLYVJuNBR8mZJNIlJooNSB18j43HAxxnXjEunt0TTvjvac26\r\nS5+lbpDqp/s6E7EhWNWLN+GlBt9e9yyKss2A1qVv7ZbMpl+S4ed1mlnEeQdSxzdo\r\nC44HPFbr/KWNNSCyQ3+Ie8MvRggbOGArsd0riOmIonLUHoqfPpU+nPdW1fBV7SRY\r\nv+65XzcKfM9RG93ZPnlSSkOw01dqtSjoXTgOL1m7XWJOGmd0XeJcLfpplplUaAba\r\ntq7fIyNPauNvCTcGlmhXqfQk83fLFRj/CCcowx+6x2dmbtzF5EGQplaHj6USc5yR\r\nVwOfOwBv"]
[1.702242, "o", "E9p06Z8utcJAQolS7lqhaNhi7NBuUVdWDalR2nTmYqCcTH2w1bhg6GCQ\r\nNGuHO2P/Y0Ami/jcbwbidYaGumLtevupAUHrrdru0wP9WoBqb5XvdMp+uBcBUkHR\r\nYfwJLJTGGw==\r\n-----END CERTIFICATE-----\r\nsubject=C = US, O = Athenz, CN = Sample Self Signed ZTS\r\n\r\nissuer=C = US, O = Athenz, CN = Sample Self Signed Athenz CA\r\n\r\n---\r\nAcceptable client certificate CA names\r\nC = US, O = Athenz, CN = Sample Self Signed Service CA\r\nC = US, O = Athenz, CN = Sample Self Signed Athenz CA\r\nC = US, O = Athenz, CN = Sample Self Signed User CA\r\nClient Certificate Types: RSA sign, DSA sign, ECDSA sign\r\nRequested Signature Algorithms: ECDSA+SHA512:RSA+SHA512:ECDSA+SHA384:RSA+SHA384:ECDSA+SHA256:RSA+SHA256:DSA+SHA256:ECDSA+SHA224:RSA+SHA224:DSA+SHA224:ECDSA+SHA1:RSA+SHA1:DSA+SHA1\r\nShared Requested Signature Algorithms: ECDSA+SHA512:RSA+SHA512:ECDSA+SHA384:RSA+SHA384:ECDSA+SHA256:RSA+SHA256:DSA+SHA256:ECDSA+SHA224:RSA+SHA224:DSA+SHA224:ECDSA+SHA1:RSA+SHA1:DSA+SHA1\r\nPeer signing digest: SHA256\r\nPeer signature type: RSA\r\nServer Temp Key: ECDH, P-256, 256 bits\r\n---\r\nSS"]
[1.702311, "o", "L handshake has read 2507 bytes and written 513 bytes\r\nVerification: OK\r\n---\r\nNew, TLSv1.2, Cipher is ECDHE-RSA-AES256-SHA384\r\nServer public key is 4096 bit\r\nSecure Renegotiation IS supported\r\nNo ALPN negotiated\r\nSSL-Session:\r\n    Protocol  : TLSv1.2\r\n    Cipher    : ECDHE-RSA-AES256-SHA384\r\n    Session-ID: 5EBCF0990FDB38358ECA04A0BC07CE27607C9DF1E7A40584D1359AB7E0E02AB3\r\n    Session-ID-ctx: \r\n    Master-Key: 412438536B280996BD2162D99943C3F98AC6DE8D65A501B35E90BD36653DC23B3F68F0F0CF50672B9BEFB6AE3B33D657\r\n    PSK identity: None\r\n    PSK identity hint: None\r\n    SRP username: None\r\n    Start Time: 1589440665\r\n    Timeout   : 7200 (sec)\r\n    Verify return code: 0 (ok)\r\n    Extended master secret: yes\r\n---\r\nDONE\r\n"]
[1.704908, "o", "\u001b(B\u001b[m"]
[1.70826, "o", "\u001b[33m"]
[1.709293, "o", "3.4. create public key\r\n"]
[1.71032, "o", "\u001b(B\u001b[m"]
[1.713655, "o", "\u001b[37m"]
[1.714668, "o", "writing RSA key\r\n"]
[1.716148, "o", "\u001b(B\u001b[m"]
[1.719374, "o", "\u001b[32m"]
[1.720411, "o", "ZMS acceptance test\r\n"]
[1.72141, "o", "\u001b(B\u001b[m"]
[1.724755, "o", "\u001b[33m"]
[1.725748, "o", "0. test using the domain admin identity (plx prepare in advance)\r\n"]
[1.726684, "o", "\u001b(B\u001b[m"]
[1.729981, "o", "\u001b[37m"]
[1.731007, "o", "-rw-r--r-- 1 111626 users 2000 May 14 07:16 /athenz/docker/sample/domain-admin/domain_admin_cert.pem\r\n-rw------- 1 111626 users 3272 May 14 07:16 /athenz/docker/sample/domain-admin/domain_admin_key.pem\r\n"]
[1.731948, "o", "\u001b(B\u001b[m"]
[1.735168, "o", "\u001b[35m"]
[1.736073, "o", "0.1. confirm `testing` domain not exist\r\n"]
[1.736978, "o", "\u001b(B\u001b[m"]
[1.740025, "o", "\u001b[35m"]
[1.740853, "o", "domain:\r\n"]
[1.741748, "o", "\u001b(B\u001b[m"]
[1.744811, "o", "\u001b[37m"]
[1.792498, "o", "HTTP/1.1 100 Continue\r\r\n\r\r\nHTTP/1.1 404 Not Found\r\r\nHost: athenz-zms-server\r\r\nContent-Type: application/json\r\r\nContent-Length: 61\r\r\n\r\r\n"]
[1.828158, "o", "{\r\n  \"code\": 404,\r\n  \"message\": \"getDomain: Domain not found: testing\"\r\n}\r\n"]
[1.829072, "o", "\u001b(B\u001b[m"]
[1.86717, "o", "\u001b[37m"]
[1.868073, "o", "`testing` domain not exist, start test...\r\n"]
[1.868956, "o", "\u001b(B\u001b[m"]
[1.872262, "o", "\u001b[33m"]
[1.873073, "o", "1. create test domain\r\n"]
[1.87415, "o", "\u001b(B\u001b[m"]
[1.878439, "o", "\u001b[35m"]
[1.879403, "o", "request body:\r\n"]
[1.88031, "o", "\u001b(B\u001b[m"]
[1.883347, "o", "\u001b[37m"]
[1.884299, "o", "{\r\n    \"name\": \"testing\",\r\n    \"adminUsers\": [\r\n        \"user.github-7654321\"\r\n    ]\r\n}\r\n"]
[1.885232, "o", "\u001b(B\u001b[m"]
[1.888247, "o", "\u001b[35m"]
[1.889037, "o", "response:\r\n"]
[1.890223, "o", "\u001b(B\u001b[m"]
[1.893443, "o", "\u001b[37m"]
[1.955675, "o", "HTTP/1.1 200 OK\r\r\nHost: athenz-zms-server\r\r\nContent-Type: application/json\r\r\nContent-Length: 131\r\r\n\r\r\n"]
[1.991451, "o", "{\r\n  \"auditEnabled\": false,\r\n  \"ypmId\": 0,\r\n  \"name\": \"testing\",\r\n  \"modified\": \"2020-05-14T07:17:45.771Z\",\r\n  \"id\": \"0240d7b0-95b3-11ea-ae8e-49b4bc25bae7\"\r\n}\r\n"]
[1.992484, "o", "\u001b(B\u001b[m"]
[1.99581, "o", "\u001b[33m"]
[1.996637, "o", "2. create test service (PutServiceIdentity)\r\n"]
[1.997575, "o", "\u001b(B\u001b[m"]
[2.002496, "o", "\u001b[35m"]
[2.003381, "o", "NOTE: public key is ybase64-decoded in the request body\r\n"]
[2.004344, "o", "\u001b(B\u001b[m"]
[2.008832, "o", "\u001b[35m"]
[2.009689, "o", "request body:\r\n"]
[2.010738, "o", "\u001b(B\u001b[m"]
[2.01386, "o", "\u001b[37m"]
[2.015003, "o", "{\r\n    \"name\": \"testing.test_service\",\r\n    \"publicKeys\": [\r\n        {\r\n            \"id\": \"test_public_key\",\r\n            \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF4SW5OTkhCUC96WmV3VlQxL3JwdQoxK0Vjb2lwdHMwV0FmZVNvQ1F6MlZNV2hlK2FBSEMzS1Z0TVBOdVdFNXh1SUh1QlZ4VnpESW9qSHdMYWNWNUFSCllmYTdxQlJpdmRubzcvN0Vtd0hQVDM2b2JubDJ2aDhqMmtaaTE1L0hBb2k4a2NxamZIRjBiQWFTK0tJUktnSncKUjR3WjlRT2wwbWhGaUJTdis2UWFydFF5R0pGcDgrcmw4SWtBZnFVUDFRTXJmaktnR2Q4c2F2VTdydnNjamt3TwpMZUdhUVd5WURTK3BCeDcrOWdEeFBZNWxrK0kyZEsyT3dvWUQ4cWNWU0Rad3BFVnV0d3VTZTJjUUpBVkV3dVcvCm4vUFBIUnJJUWtRMFUvOFpkZTR0TnVFUkRBRUlwQnhrTWg3T2lobEhxQ1E5ck8rbmtnNWpwbHZtRitjUkl2NGQKN1FJREFRQUIKLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tCg--\"\r\n        }\r\n    ]\r\n}\r\n"]
[2.016133, "o", "\u001b(B\u001b[m"]
[2.019272, "o", "\u001b[35m"]
[2.020075, "o", "response:\r\n"]
[2.021156, "o", "\u001b(B\u001b[m"]
[2.02437, "o", "\u001b[37m"]
[2.080122, "o", "HTTP/1.1 204 No Content\r\r\nHost: athenz-zms-server\r\r\n\r\r\n"]
[2.116422, "o", "\u001b(B\u001b[m"]
[2.119599, "o", "\u001b[33m"]
[2.120535, "o", "3. create test role (PutRole)\r\n"]
[2.121627, "o", "\u001b(B\u001b[m"]
[2.126056, "o", "\u001b[35m"]
[2.126949, "o", "request body:\r\n"]
[2.127965, "o", "\u001b(B\u001b[m"]
[2.131224, "o", "\u001b[37m"]
[2.132402, "o", "{\r\n    \"name\": \"testing:role.test_role\",\r\n    \"members\": [\r\n        \"testing.test_service\"\r\n    ]\r\n}\r\n"]
[2.133402, "o", "\u001b(B\u001b[m"]
[2.136603, "o", "\u001b[35m"]
[2.137562, "o", "response:\r\n"]
[2.138488, "o", "\u001b(B\u001b[m"]
[2.141571, "o", "\u001b[37m"]
[2.22431, "o", "HTTP/1.1 204 No Content\r\r\nHost: athenz-zms-server\r\r\n\r\r\n"]
[2.259687, "o", "\u001b(B\u001b[m"]
[2.262937, "o", "\u001b[33m"]
[2.263806, "o", "4. create test policy (PutPolicy)\r\n"]
[2.264928, "o", "\u001b(B\u001b[m"]
[2.269295, "o", "\u001b[35m"]
[2.270178, "o", "request body:\r\n"]
[2.271278, "o", "\u001b(B\u001b[m"]
[2.274593, "o", "\u001b[37m"]
[2.275752, "o", "{\r\n    \"name\": \"testing:policy.test_policy\",\r\n    \"assertions\": ["]
[2.275862, "o", "\r\n        {\r\n"]
[2.275919, "o", "            \"role\": \"testing:role.test_role\","]
[2.276159, "o", "\r\n            \"action\": \"obtain\","]
[2.276401, "o", "\r\n            \"resource\": \"testing:treasure\",\r\n            \"effect\": 0"]
[2.276487, "o", "\r\n        }\r\n"]
[2.276539, "o", "    ]"]
[2.276732, "o", "\r\n"]
[2.276811, "o", "}\r\n"]
[2.277919, "o", "\u001b(B\u001b[m"]
[2.281393, "o", "\u001b[35m"]
[2.282309, "o", "response:\r\n"]
[2.28334, "o", "\u001b(B\u001b[m"]
[2.286558, "o", "\u001b[37m"]
[2.345449, "o", "HTTP/1.1 204 No Content\r\r\nHost: athenz-zms-server\r\r\n\r\r\n"]
[2.382617, "o", "\u001b(B\u001b[m"]
[2.3859, "o", "\u001b[33m"]
[2.386797, "o", "5. verify the created domain, service, role & policy\r\n"]
[2.387716, "o", "\u001b(B\u001b[m"]
[2.390901, "o", "\u001b[35m"]
[2.392048, "o", "domain:\r\n"]
[2.393123, "o", "\u001b(B\u001b[m"]
[2.396318, "o", "\u001b[37m"]
[2.435991, "o", "HTTP/1.1 200 OK\r\r\nHost: athenz-zms-server\r\r\nContent-Type: application/json\r\r\nContent-Length: 146\r\r\n\r\r\n"]
[2.470268, "o", "{\r\n  \"enabled\": true,\r\n  \"auditEnabled\": false,\r\n  \"ypmId\": 0,\r\n  \"name\": \"testing\",\r\n  \"modified\": \"2020-05-14T07:17:46.174Z\",\r\n  \"id\": \"0240d7b0-95b3-11ea-ae8e-49b4bc25bae7\"\r\n}\r\n"]
[2.471374, "o", "\u001b(B\u001b[m"]
[2.47465, "o", "\u001b[35m"]
[2.475713, "o", "service:\r\n"]
[2.476935, "o", "\u001b(B\u001b[m"]
[2.480048, "o", "\u001b[37m"]
[2.525927, "o", "HTTP/1.1 200 OK\r\r\nHost: athenz-zms-server\r\r\nContent-Type: application/json\r\r\nContent-Length: 722\r"]
[2.526144, "o", "\r\n\r\r\n"]
[2.561499, "o", "{\r\n  \"name\": \"testing.test_service\",\r\n  \"publicKeys\": [\r\n"]
[2.561752, "o", "    {\r\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF4SW5OTkhCUC96WmV3VlQxL3JwdQoxK0Vjb2lwdHMwV0FmZVNvQ1F6MlZNV2hlK2FBSEMzS1Z0TVBOdVdFNXh1SUh1QlZ4VnpESW9qSHdMYWNWNUFSCllmYTdxQlJpdmRubzcvN0Vtd0hQVDM2b2JubDJ2aDhqMmtaaTE1L0hBb2k4a2NxamZIRjBiQWFTK0tJUktnSncKUjR3WjlRT2wwbWhGaUJTdis2UWFydFF5R0pGcDgrcmw4SWtBZnFVUDFRTXJmaktnR2Q4c2F2VTdydnNjamt3TwpMZUdhUVd5WURTK3BCeDcrOWdEeFBZNWxrK0kyZEsyT3dvWUQ4cWNWU0Rad3BFVnV0d3VTZTJjUUpBVkV3dVcvCm4vUFBIUnJJUWtRMFUvOFpkZTR0TnVFUkRBRUlwQnhrTWg3T2lobEhxQ1E5ck8rbmtnNWpwbHZtRitjUkl2NGQKN1FJREFRQUIKLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tCg--\",\r\n      \"id\": \"test_public_key\"\r\n    }"]
[2.563151, "o", "\r\n  ],\r\n  \"modified\": \"2020-05-14T07:17:45.908Z\"\r\n}\r\n"]
[2.564468, "o", "\u001b(B\u001b[m"]
[2.568299, "o", "\u001b[35m"]
[2.569284, "o", "role:\r\n"]
[2.570384, "o", "\u001b(B\u001b[m"]
[2.573832, "o", "\u001b[37m"]
[2.615954, "o", "HTTP/1.1 200 OK\r\r\nHost: athenz-zms-server\r\r\nContent-Type: application/json\r\r\n"]
[2.616172, "o", "Content-Length: 176\r\r\n\r\r\n"]
[2.650853, "o", "{\r\n  \"name\": \"testing:role.test_role\",\r\n  \"modified\": \"2020-05-14T07:17:46.049Z\","]
[2.651016, "o", "\r\n  \"members\": [\r\n    \"testing.test_service\"\r\n  ],"]
[2.651402, "o", "\r\n  \"roleMembers\": [\r\n    {"]
[2.65149, "o", "\r\n      \"memberName\": \"testing.test_service\",\r\n"]
[2.651538, "o", "      \"approved\": true"]
[2.65176, "o", "\r\n    }"]
[2.651839, "o", "\r\n  ]"]
[2.65189, "o", "\r\n}"]
[2.65212, "o", "\r\n"]
[2.653319, "o", "\u001b(B\u001b[m"]
[2.656514, "o", "\u001b[35m"]
[2.657612, "o", "policy:\r\n"]
[2.658714, "o", "\u001b(B\u001b[m"]
[2.662021, "o", "\u001b[37m"]
[2.702636, "o", "HTTP/1.1 200 OK\r\r\nHost: athenz-zms-server\r\r\nContent-Type: application/json\r\r\n"]
[2.702789, "o", "Content-Length: 196\r\r\n\r\r\n"]
[2.7406, "o", "{\r\n  \"name\": \"testing:policy.test_policy\",\r\n  \"modified\": \"2020-05-14T07:17:46.169Z\",\r\n  \"assertions\": [\r\n    {\r\n      \"role\": \"testing:role.test_role\",\r\n      \"resource\": \"testing:treasure\",\r\n      \"action\": \"obtain\",\r\n      \"effect\": \"ALLOW\",\r\n      \"id\": 8\r\n    }\r\n  ]\r\n}\r\n"]
[2.741848, "o", "\u001b(B\u001b[m"]
[2.745166, "o", "\u001b[35m"]
[2.746227, "o", "Wait for ZTS to sync...\r\n"]
[2.747132, "o", "\u001b(B\u001b[m"]
[2.823643, "o", "\u001b[37m"]
[2.855087, "o", "{\r\n  \"code\": 404,\r\n  \"message\": \"Domain not found: 'testing'\"\r\n}\r\n"]
[2.856552, "o", "\u001b(B\u001b[m"]
[2.893749, "o", "waiting 5s...\r\n"]
[7.943143, "o", "\u001b[37m"]
[7.974481, "o", "{\r\n  \"code\": 404,\r\n  \"message\": \"Domain not found: 'testing'\"\r\n}\r\n"]
[7.975678, "o", "\u001b(B\u001b[m"]
[8.011033, "o", "waiting 5s...\r\n"]
[13.057281, "o", "\u001b[37m"]
[13.089168, "o", "{\r\n  \"code\": 404,\r\n  \"message\": \"Domain not found: 'testing'\"\r\n}\r\n"]
[13.090211, "o", "\u001b(B\u001b[m"]
[13.126004, "o", "waiting 5s...\r\n"]
[18.170404, "o", "\u001b[37m"]
[18.201611, "o", "{\r\n  \"code\": 404,\r\n  \"message\": \"Domain not found: 'testing'\"\r\n}\r\n"]
[18.202535, "o", "\u001b(B\u001b[m"]
[18.237861, "o", "waiting 5s...\r\n"]
[23.286364, "o", "\u001b[37m"]
[23.319283, "o", "{\r\n  \"code\": 404,\r\n  \"message\": \"Domain not found: 'testing'\"\r\n}\r\n"]
[23.320318, "o", "\u001b(B\u001b[m"]
[23.355621, "o", "waiting 5s...\r\n"]
[28.4036, "o", "\u001b[37m"]
[28.43589, "o", "{\r\n  \"code\": 404,\r\n  \"message\": \"Domain not found: 'testing'\"\r\n}\r\n"]
[28.436941, "o", "\u001b(B\u001b[m"]
[28.472317, "o", "waiting 5s...\r\n"]
[33.520239, "o", "\u001b[37m"]
[33.552796, "o", "{\r\n  \"code\": 404,\r\n  \"message\": \"Domain not found: 'testing'\"\r\n}\r\n"]
[33.553839, "o", "\u001b(B\u001b[m"]
[33.588835, "o", "waiting 5s...\r\n"]
[38.636959, "o", "\u001b[37m"]
[38.669171, "o", "{\r\n  \"name\": \"testing.test_service\",\r\n  \"publicKeys\": [\r\n    {\r\n      \"key\": \"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF4SW5OTkhCUC96WmV3VlQxL3JwdQoxK0Vjb2lwdHMwV0FmZVNvQ1F6MlZNV2hlK2FBSEMzS1Z0TVBOdVdFNXh1SUh1QlZ4VnpESW9qSHdMYWNWNUFSCllmYTdxQlJpdmRubzcvN0Vtd0hQVDM2b2JubDJ2aDhqMmtaaTE1L0hBb2k4a2NxamZIRjBiQWFTK0tJUktnSncKUjR3WjlRT2wwbWhGaUJTdis2UWFydFF5R0pGcDgrcmw4SWtBZnFVUDFRTXJmaktnR2Q4c2F2VTdydnNjamt3TwpMZUdhUVd5WURTK3BCeDcrOWdEeFBZNWxrK0kyZEsyT3dvWUQ4cWNWU0Rad3BFVnV0d3VTZTJjUUpBVkV3dVcvCm4vUFBIUnJJUWtRMFUvOFpkZTR0TnVFUkRBRUlwQnhrTWg3T2lobEhxQ1E5ck8rbmtnNWpwbHZtRitjUkl2NGQKN1FJREFRQUIKLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tCg--\",\r\n      \"id\": \"test_public_key\"\r\n    }\r\n  ],\r\n  \"modified\": \"2020-05-14T07:17:45.908Z\"\r\n}\r\n"]
[38.670428, "o", "\u001b(B\u001b[m"]
[38.705487, "o", "waiting 5s...\r\n"]
[43.710254, "o", "\u001b[35m"]
[43.711063, "o", "ZMS and ZTS sync-ed.\r\n"]
[43.71193, "o", "\u001b(B\u001b[m"]
[43.715059, "o", "\u001b[32m"]
[43.716035, "o", "ZTS acceptance test\r\n"]
[43.716954, "o", "\u001b(B\u001b[m"]
[43.719986, "o", "\u001b[33m"]
[43.720879, "o", "0. test using the `test_service` service identity signed by CA (prepared in the `Test preparation` step)\r\n"]
[43.721757, "o", "\u001b(B\u001b[m"]
[43.724858, "o", "\u001b[37m"]
[43.725711, "o", "-rw-r--r-- 1 111626 users 3647 May 14 07:17 /athenz/docker/sample/test_service/cert.pem\r\n-rw------- 1 111626 users 1704 May 14 07:17 /athenz/docker/sample/test_service/key.pem\r\n"]
[43.72665, "o", "\u001b(B\u001b[m"]
[43.729957, "o", "\u001b[33m"]
[43.730802, "o", "1. retrieve service access token (PostAccessTokenRequest)\r\n"]
[43.731843, "o", "\u001b(B\u001b[m"]
[43.73616, "o", "\u001b[35m"]
[43.737199, "o", "request body:\r\n"]
[43.738031, "o", "\u001b(B\u001b[m"]
[43.741059, "o", "\u001b[37m"]
[43.741979, "o", "grant_type=client_credentials&expires_in=86400&scope=testing:role.test_role\r\n"]
[43.742872, "o", "\u001b(B\u001b[m"]
[43.746018, "o", "\u001b[35m"]
[43.746931, "o", "response:\r\n"]
[43.747805, "o", "\u001b(B\u001b[m"]
[43.75093, "o", "\u001b[37m"]
[43.822243, "o", "HTTP/1.1 200 OK\r\r\nHost: athenz-zts-server\r\r\nContent-Type: application/json\r\r\nContent-Length: 1181\r\r\n\r\r\n"]
[43.85663, "o", "{\r\n  \"access_token\": \"eyJraWQiOiIwIiwidHlwIjoiYXQrand0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiJ0ZXN0aW5nLnRlc3Rfc2VydmljZSIsImlhdCI6MTU4OTQ0MDcwNywiZXhwIjoxNTg5NTI3MTA3LCJpc3MiOiJhdGhlbnotenRzLXNlcnZlciIsImF1ZCI6InRlc3RpbmciLCJhdXRoX3RpbWUiOjE1ODk0NDA3MDcsInZlciI6MSwic2NwIjpbInRlc3Rfcm9sZSJdLCJ1aWQiOiJ0ZXN0aW5nLnRlc3Rfc2VydmljZSIsImNsaWVudF9pZCI6InRlc3RpbmcudGVzdF9zZXJ2aWNlIiwiY25mIjp7Ing1dCNTMjU2IjoiM3NMODRzZWl2b3puZFRmYWRUeHFoaFQwQTNxNGFxRHpwUU92X3R0SUxuayJ9fQ.SWTKMT7eUxS6CWyo5i3Byq3wdjJ6jt8XMqIgGiNOFm2UxaGPs7pYBMHWRv75UBG9krWleWZCf5Jt1lrrCabY76m0kpBsszzegDJMNVr4T-m7qXujIvzL5SlZ-JzgB2KC7c9tQN4dEpmjiN0QzCS_ofWM2glJeg1kQMyJfv2_670eH7Oz9pKKlhOenPsFkdQ-jJexnwQLIxsnCCwiHXK63lpGlwfrSH9MkukYN-Zc6EaAttT86dhI2jZrXHWfoibDdv5s5X-GQ6uYzJOt7NQoGttIrsRHCgolT6j66gMKsKx4LrE3dppR-z7dFNMg9tW8MNFJ6oGhMi--miu4qASy8NjAwDgYkzkVcst0Ji-zTb8uZQTLD8SlLI-CZDuKhskcmgTHXGW672Ht9i-MrYUP5ZWv7Tf7UFtpjnGInoXFeu8m9W9Ri-vIWj-qmTuSFaA17iF45QSAq8Wm8fe6R_8COV3isp_09Cl0dFbznhGFrEDBk9F4VMywpxGO-JHhF589khUq88VBLyp3vDVqviyWQBvUxSCLi2tJGq6AzFFCCuFp-cGWplOx"]
[43.856911, "o", "aCxbRNDG5qpWJ-eIyw20esBoG06VtZ0l1wZ4DFe7D__WeCgmOQbp6_-6w7puhPAerq-zEcYY5Zzs89uNfwTXsvuZ6cGfBBGo5RwHR_XPx8j5N1zXW-RjK5A\",\r\n  \"token_type\": \"Bearer\",\r\n  \"expires_in\": 86400\r\n}\r\n"]
[43.857633, "o", "\u001b(B\u001b[m"]
[43.860911, "o", "\u001b[35m"]
[43.861834, "o", "JWT:\r\n"]
[43.862716, "o", "\u001b(B\u001b[m"]
[43.866012, "o", "\u001b[37m"]
[43.899693, "o", "{\r\n  \"sub\": \"testing.test_service\",\r\n  \"iat\": 1589440707,\r\n  \"exp\": 1589527107,\r\n  \"iss\": \"athenz-zts-server\",\r\n  \"aud\": \"testing\",\r\n  \"auth_time\": 1589440707,\r\n  \"ver\": 1,\r\n  \"scp\": [\r\n    \"test_role\"\r\n  ],\r\n  \"uid\": \"testing.test_service\",\r\n  \"client_id\": \"testing.test_service\",\r\n  \"cnf\": {\r\n    \"x5t#S256\": \"3sL84seivozndTfadTxqhhT0A3q4aqDzpQOv_ttILnk\"\r\n  }\r\n}\r\n"]
[43.900915, "o", "\u001b(B\u001b[m"]
[43.904318, "o", "\u001b[33m"]
[43.905167, "o", "2. retrieve role token (GetRoleList)\r\n"]
[43.906078, "o", "\u001b(B\u001b[m"]
[43.909245, "o", "\u001b[35m"]
[43.910251, "o", "response:\r\n"]
[43.911316, "o", "\u001b(B\u001b[m"]
[43.914401, "o", "\u001b[37m"]
[43.968197, "o", "HTTP/1.1 200 OK\r\r\nHost: athenz-zts-server\r\r\nContent-Type: application/json\r\r\nContent-Length: 854\r\r\n\r\r\n"]
[44.003602, "o", "{\r\n  \"token\": \"v=Z1;d=testing;r=test_role;p=testing.test_service;h=athenz-zts-server;a=48b59867dbc7ddb8;t=1589440707;e=1589447907;k=0;i=172.21.0.6;s=DSndrDB7IeHhOOC876uTLHuEunARAEoLhFMFS94Z4wY6hWO6LwTHt16.wfOqZ0TLu.rXpEYdVDKzgsPBohsBTrdkJ3Sxalr.lGoclieKowWBkxI1548NOUmLuETh.jQZJ_RDOFiiEt7rFLpIcPjtqKNdMCX6.YG8Et7QPFXFSHUJePtX_gmIY_AVHL2t.3zBMsFC_Yzax7kA5jNY.wWUgJ.CTFKxTRwsPkjacYgyORjS.wydJBkTFpMDFlQuaeDo1yCtPysqKuo.wjA8s5wa3ucsTNkJFFHyIbwu4gztC3D5C4MoClfuc7yHaoHx7M9Uk0x47UQ0jv28op6e6Qi4D6ZMtMhkmVkAFFBTYhpVYN5bL55Rj8vnNewR4XesUjHs9.lbT5cHFsL_r6lK2s.oex32hPVGQvoxuuBq0KXWeys0.1mbJb0IwcnO5qPiy1.azE_eR7Kj_K.WGsYwH6umOFvTgkOgfZNmwbOaTtsv5vS9fYoeyACGJi_nXX4XspmiuqQExvhO0KFQ11ak7hIhY8TfOr15zGKuwJVVjdTzJI9YNNKkAELSQxriUsmdodawN0ftIk.nq.9XwTus6A4WN5cAM5X458s1DoArfjfZqdGOsXLQBjcQIUA6nJ4TtiTtNrNnu_8KJHXrSj8QjMn8.xbwLJep1CWedU1HxWAwtRk-\",\r\n  \"expiryTime\": 1589447907\r\n}\r\n"]
[44.004669, "o", "\u001b(B\u001b[m"]
[44.008169, "o", "\u001b[33m"]
[44.009054, "o", "3. retrieve signed policy (GetDomainSignedPolicyData)\r\n"]
[44.01, "o", "\u001b(B\u001b[m"]
[44.013231, "o", "\u001b[35m"]
[44.014216, "o", "response:\r\n"]
[44.015163, "o", "\u001b(B\u001b[m"]
[44.018433, "o", "\u001b[37m"]
[44.072639, "o", "HTTP/1.1 200 OK\r\r\nHost: athenz-zts-server\r\r\nETag: \"2020-05-14T07:17:46.174Z\"\r\r\nContent-Type: application/json\r\r\nContent-Length: 1930\r\r\n\r\r\n"]
[44.107806, "o", "{\r\n  \"signedPolicyData\": {\r\n    \"policyData\": {\r\n      \"domain\": \"testing\",\r\n      \"policies\": [\r\n        {\r\n          \"name\": \"testing:policy.test_policy\",\r\n          \"modified\": \"2020-05-14T07:17:46.169Z\",\r\n          \"assertions\": [\r\n            {\r\n              \"role\": \"testing:role.test_role\",\r\n              \"resource\": \"testing:treasure\",\r\n              \"action\": \"obtain\",\r\n              \"effect\": \"ALLOW\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"name\": \"testing:policy.admin\",\r\n          \"modified\": \"2020-05-14T07:17:45.778Z\",\r\n          \"assertions\": [\r\n            {\r\n              \"role\": \"testing:role.admin\",\r\n              \"resource\": \"testing:*\",\r\n              \"action\": \"*\",\r\n              \"effect\": \"ALLOW\"\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    \"zmsSignature\": \"iBcTWuUePwCGa0kdJAxIH7GVw5pqwFNja6tbEpQUNxJKTrmLotNBItMtBZ81g_wN72xUHIdYTYKeya75kTiCidweHR.zQcaw3Lnfpo4DSjVdxmzE1eP5d7olzctaw1.ifxj9LCW84jbVXQVi8I6yAzzxH8E2yPgwg7wM3ppDkORKLQleUUt8KpqPQaGq02FOtZv7X"]
[44.108033, "o", ".TmR7C4K7JpWq2rWF9ABqQ7ZGJ7seFtxFj"]
[44.108179, "o", "uGhIZSKXJ3yLvoZGpdY4trxX8XBxhLWLP4SGwWb18KfFhcyhMrNGQ3D5JGmSS2ZxPjkT021I6EhY9GBm90TdwqD6_BdRkrPKssU8WcoNKS4RRN44LMJee0zpKR1.gJUBggamM4NGSlapibPM7ahPLtdSf5nt2M7F52cYkkZtd6OSjeWHM4weZxDH.s5.EgoPjMrbOz8NeeBYVh4pQCoEUmlJEDYVq4CRBwWZtWoXrdfZF1NXQe9CYU7qZpRp814EwSk2XWLBBIZqSElQBjMBb3EZi8ZYPTKOh22LPWJv8kO8Cq.bWoMb21mTsWcq3M3474t6RKsDbWk4CP8TIuDdajF96h5N8ak5brAITEIu9cvgljTfS3JTWnWJGKWVLoC.nZo2IZxGyPAea0jhqZpSeSF75DkwbrtqpNemNk_QT4kv_5e12Gf6d2pGe05FyqEcCYiY-\",\r\n    \"zmsKeyId\": \"0\",\r\n    \"modified\": \"2020-05-14T07:17:46.174Z\",\r\n    \"expires\": \"2020-05-21T07:18:27.885Z\"\r\n  },\r\n  \"signature\": \"JdtlVZTt9cZvaUqMDg.JGs4_cKeA2PWGd0Uc7vrC8S8geL3E.yda7W48tY8z4FTyU.PVSjfxcrZExzZzCP_GPGkk7OSqloUgYTS9MMRmJ.d1bQOH5HQF7XoU2kFgpFD6AL81bwwoNgNP_nEyHJm0FMFBAKsbzZ0.9I8vyHvVrC_cACjAcV_SoUlnXVynf9ob2bh.2SADnTPEUzNhdTPeL1cAmwIouM8HZ8u3q716XYSGLd2fvaHeXLka5MNcNA5F.CQw.0qNcHHCnDzyw78KCIjRLTH.KKA2MRsYpYf_XJAVL4wOvSeJ9ZVA74qn0tWoD8gYjDwSJBu7pujtleiGIBka_pFNU_Mi1OZA.u6UFAx3fR9sc3jD3V.ZKc8QL_UVxmCz55ULVhigFTz7RNnR0Iw3CjTM_HRmVBCPsBmwYDJJrDctH3f"]
[44.108259, "o", "x0R3D_.x9PjtFbK_81xZtQgFoKtcZI2QJvQfG8g448XcbcnnOoz3xpJFYew4ZGyifo_rlqpUk.RffEawr50JZl.o7kVMpyCCmevS6ZPAQM4UVSgLmKvAxkPRJJV9J7_t413zhUZzf253g45HPpM9LBSINvMmzn6a..XuFOJefelCnbG6rPoBZVPLcCx3XbBnhditZ5_ejcjxNNP9g5CZfMvdI2uCkPCqJlDapV3R81075dbQ.0ReVmhY-\",\r\n  \"keyId\": \"0\"\r\n}\r\n"]
[44.109174, "o", "\u001b(B\u001b[m"]
[44.112337, "o", "\u001b[33m"]
[44.113273, "o", "4. retrieve role certificate (PostRoleCertificateRequest)\r\n"]
[44.114518, "o", "\u001b(B\u001b[m"]
[44.117596, "o", "\u001b[33m"]
[44.11862, "o", "4.1. create role certificate CSR\r\n"]
[44.119561, "o", "\u001b(B\u001b[m"]
[44.12256, "o", "\u001b[37m"]
[44.123969, "o", "Generating a RSA private key\r\n"]
[44.12496, "o", "."]
[44.126317, "o", "."]
[44.127624, "o", "."]
[44.12889, "o", "."]
[44.130235, "o", "."]
[44.131509, "o", "."]
[44.132858, "o", "."]
[44.134166, "o", "."]
[44.135481, "o", "."]
[44.136745, "o", "."]
[44.138057, "o", "."]
[44.138485, "o", "+"]
[44.138857, "o", "+"]
[44.139314, "o", "+"]
[44.139706, "o", "+"]
[44.140154, "o", "+\r\n"]
[44.141118, "o", "."]
[44.14233, "o", "."]
[44.143611, "o", "."]
[44.144825, "o", "."]
[44.146026, "o", "."]
[44.147257, "o", "."]
[44.148487, "o", "."]
[44.149731, "o", "."]
[44.150986, "o", "."]
[44.152173, "o", "."]
[44.153383, "o", "."]
[44.154648, "o", "."]
[44.155835, "o", "."]
[44.157078, "o", "."]
[44.15745, "o", "+"]
[44.157806, "o", "+"]
[44.158161, "o", "+"]
[44.158539, "o", "+"]
[44.158905, "o", "+\r\n"]
[44.159261, "o", "writing new private key to '/athenz/docker/sample/test_service/role_key.pem'\r\n-----\r\n"]
[44.161699, "o", "\r\n"]
[44.165971, "o", "Certificate Request:\r\n    Data:\r\n        Version: 1 (0x0)\r\n        Subject: C = US, O = Athenz, CN = testing:role.test_role\r\n        Subject Public Key Info:\r\n            Public Key Algorithm: rsaEncryption\r\n                RSA Public-Key: (2048 bit)\r\n                Modulus:\r\n                    00:ab:00:db:7c:b9:12:ef:59:a6:e8:29:f6:91:e7:\r\n                    b8:ad:b8:d6:6a:93:78:01:ba:5a:5b:1e:7b:00:94:\r\n                    41:67:41:f6:cb:60:fa:d5:a0:0d:84:e3:5b:46:ff:\r\n                    c8:7b:12:b1:70:c9:14:73:83:f4:a9:a2:6f:74:d5:\r\n"]
[44.166613, "o", "                    53:52:9b:87:98:a3:57:a2:46:9d:cb:8e:8e:98:3a:\r\n                    6c:3b:df:dd:3e:0e:93:c5:7b:d0:f7:ea:2a:30:da:\r\n                    01:58:98:0b:49:a1:00:c3:a0:a1:fe:8b:19:53:09:\r\n                    d3:d6:91:54:48:a1:95:a6:0f:68:48:a3:04:f8:97:\r\n                    c5:b9:99:f0:ec:52:f4:25:db:cc:f7:32:c9:bc:93:\r\n                    8e:e2:aa:d0:d1:a6:27:8f:f9:40:bd:76:98:3e:ea:\r\n                    34:cd:6e:a0:92:58:1e:0c:a8:90:c4:74:29:dd:90:\r\n                    88:a2:93:fd:88:2d:72:e1:99:26:7c:f3:34:e3:03:\r\n                    08:f0:bd:eb:12:fc:36:02:8b:d8:61:20:b6:db:75:\r\n                    df:26:0a:14:e8:e3:da:d6:5e:26:a4:77:9d:65:46:\r\n                    02:7b:f3:70:f9:af:10:9c:6e:e6:3a:aa:70:91:0c:\r\n                    8c:7a:82:b8:d4:db:b8:d2:64:18:3d:6b:ed:f2:f6:\r\n                    a6:3e:ee:5d:f8:04:fb:d7:23:c3:ea:a2:14:25:15:\r\n                    b3:cf\r\n                Exponent: 65537 (0x10001)\r\n        Attributes:\r\n        Requested Extensions:\r\n            X509v3 Basic Constr"]
[44.166854, "o", "aints: critical\r\n                CA:FALSE\r\n            X509v3 Extended Key Usage: \r\n                TLS Web Client Authentication\r\n            X509v3 Subject Alternative Name: \r\n                email:testing.test_service@dns.athenz.cloud\r\n    Signature Algorithm: sha256WithRSAEncryption\r\n         13:d7:e1:0e:9f:bb:43:e6:21:fc:0c:16:4b:aa:72:6e:c5:cc:\r\n         fe:f7:90:ae:43:27:58:2c:86:0f:69:f4:ce:64:84:83:76:22:\r\n         da:4c:4b:2e:cc:03:51:0b:21:72:57:a9:44:f6:0b:df:bc:46:\r\n         48:43:eb:6e:01:fa:da:58:c6:30:77:56:30:88:4c:0d:16:7a:\r\n         35:83:22:f5:1b:6f:9f:8b:3d:10:f8:38:b1:e4:55:3b:02:0b:\r\n         e9:5a:cd:9a:11:87:8e:c2:b3:61:da:ca:ee:05:7e:78:0e:81:\r\n         94:3c:b8:c2:f1:45:5b:bf:21:19:95:fe:5d:85:bd:4b:6d:64:\r\n         66:fe:98:bb:03:e8:06:e4:c4:4d:34:24:e0:77:d7:1b:14:b1:\r\n         f1:43:d4:84:80:c2:4d:62:c5:54:f9:1d:b1:6b:bf:37:d1:62:\r\n         86:9a:65:ac:d2:61:13:37:77:37:27:ea:65:2f:ca:e8:45:97:\r\n         65:50:7c:71:db:32:cb:b7:33:5f:5e:79:5d:23:86:af:06:a3:\r\n         81:5d:81:69"]
[44.166938, "o", ":05:2b:3e:97:7e:c8:06:b5:05:41:44:6b:68:2a:\r\n         eb:0b:0c:37:8f:57:b1:13:00:cc:0f:7e:e9:1b:c3:ff:09:75:\r\n         9e:cb:c4:f7:b4:88:7a:a1:3e:20:67:c3:c7:62:ca:dc:7c:77:\r\n         ee:db:1f:cd\r\n-----BEGIN CERTIFICATE REQUEST-----\r\nMIIC6jCCAdICAQAwPzELMAkGA1UEBhMCVVMxDzANBgNVBAoMBkF0aGVuejEfMB0G\r\nA1UEAwwWdGVzdGluZzpyb2xlLnRlc3Rfcm9sZTCCASIwDQYJKoZIhvcNAQEBBQAD\r\nggEPADCCAQoCggEBAKsA23y5Eu9Zpugp9pHnuK241mqTeAG6WlseewCUQWdB9stg\r\n+tWgDYTjW0b/yHsSsXDJFHOD9Kmib3TVU1Kbh5ijV6JGncuOjpg6bDvf3T4Ok8V7\r\n0PfqKjDaAViYC0mhAMOgof6LGVMJ09aRVEihlaYPaEijBPiXxbmZ8OxS9CXbzPcy\r\nybyTjuKq0NGmJ4/5QL12mD7qNM1uoJJYHgyokMR0Kd2QiKKT/YgtcuGZJnzzNOMD\r\nCPC96xL8NgKL2GEgttt13yYKFOjj2tZeJqR3nWVGAnvzcPmvEJxu5jqqcJEMjHqC\r\nuNTbuNJkGD1r7fL2pj7uXfgE+9cjw+qiFCUVs88CAwEAAaBmMGQGCSqGSIb3DQEJ\r\nDjFXMFUwDAYDVR0TAQH/BAIwADATBgNVHSUEDDAKBggrBgEFBQcDAjAwBgNVHREE\r\nKTAngSV0ZXN0aW5nLnRlc3Rfc2VydmljZUBkbnMuYXRoZW56LmNsb3VkMA0GCSqG\r\nSIb3DQEBCwUAA4IBAQAT1+EOn7tD5iH8DBZLqnJuxcz+95CuQydYLIYPafTOZISD\r\ndiLaTEsuzANRCyFyV6lE9gvfvEZIQ+tuAfraWMYwd1YwiEwNFno1gyL1G2+fiz0Q"]
[44.16712, "o", "\r\n+Dix5FU7AgvpWs2aEYeOwrNh2sruBX54DoGUPLjC8UVbvyEZlf5dhb1LbWRm/pi7\r\nA+gG5MRNNCTgd9cbFLHxQ9SEgMJNYsVU+R2xa7830WKGmmWs0mETN3c3J+plL8ro\r\nRZdlUHxx2zLLtzNfXnldI4avBqOBXYFpBSs+l37IBrUFQURraCrrCww3j1exEwDM\r\nD37pG8P/CXWey8T3tIh6oT4gZ8PHYsrcfHfu2x/N\r\n-----END CERTIFICATE REQUEST-----\r\n"]
[44.167566, "o", "\u001b(B\u001b[m"]
[44.170817, "o", "\u001b[33m"]
[44.171722, "o", "4.2. send role certificate request\r\n"]
[44.172795, "o", "\u001b(B\u001b[m"]
[44.178181, "o", "\u001b[35m"]
[44.179138, "o", "request body:\r\n"]
[44.180166, "o", "\u001b(B\u001b[m"]
[44.183331, "o", "\u001b[37m"]
[44.184291, "o", "{\r\n    \"expiryTime\": 1440,\r\n    \"csr\": \"-----BEGIN CERTIFICATE REQUEST-----\\nMIIC6jCCAdICAQAwPzELMAkGA1UEBhMCVVMxDzANBgNVBAoMBkF0aGVuejEfMB0G\\nA1UEAwwWdGVzdGluZzpyb2xlLnRlc3Rfcm9sZTCCASIwDQYJKoZIhvcNAQEBBQAD\\nggEPADCCAQoCggEBAKsA23y5Eu9Zpugp9pHnuK241mqTeAG6WlseewCUQWdB9stg\\n+tWgDYTjW0b/yHsSsXDJFHOD9Kmib3TVU1Kbh5ijV6JGncuOjpg6bDvf3T4Ok8V7\\n0PfqKjDaAViYC0mhAMOgof6LGVMJ09aRVEihlaYPaEijBPiXxbmZ8OxS9CXbzPcy\\nybyTjuKq0NGmJ4/5QL12mD7qNM1uoJJYHgyokMR0Kd2QiKKT/YgtcuGZJnzzNOMD\\nCPC96xL8NgKL2GEgttt13yYKFOjj2tZeJqR3nWVGAnvzcPmvEJxu5jqqcJEMjHqC\\nuNTbuNJkGD1r7fL2pj7uXfgE+9cjw+qiFCUVs88CAwEAAaBmMGQGCSqGSIb3DQEJ\\nDjFXMFUwDAYDVR0TAQH/BAIwADATBgNVHSUEDDAKBggrBgEFBQcDAjAwBgNVHREE\\nKTAngSV0ZXN0aW5nLnRlc3Rfc2VydmljZUBkbnMuYXRoZW56LmNsb3VkMA0GCSqG\\nSIb3DQEBCwUAA4IBAQAT1+EOn7tD5iH8DBZLqnJuxcz+95CuQydYLIYPafTOZISD\\ndiLaTEsuzANRCyFyV6lE9gvfvEZIQ+tuAfraWMYwd1YwiEwNFno1gyL1G2+fiz0Q\\n+Dix5FU7AgvpWs2aEYeOwrNh2sruBX54DoGUPLjC8UVbvyEZlf5dhb1LbWRm/pi7\\nA+gG5MRNNCTgd9cbFLHxQ9SEgMJNYsVU+R2xa7830WKGmmWs0mETN3c3J+plL8ro\\nRZdlUHxx2zLLtzNfXnldI4a"]
[44.184548, "o", "vBqOBXYFpBSs+l37IBrUFQURraCrrCww3j1exEwDM\\nD37pG8P/CXWey8T3tIh6oT4gZ8PHYsrcfHfu2x/N\\n-----END CERTIFICATE REQUEST-----\\n\"\r\n}\r\n"]
[44.185185, "o", "\u001b(B\u001b[m"]
[44.188482, "o", "\u001b[35m"]
[44.189368, "o", "response:\r\n"]
[44.190255, "o", "\u001b(B\u001b[m"]
[44.193529, "o", "\u001b[37m"]
[44.292763, "o", "HTTP/1.1 100 Continue\r\r\n\r\r\nHTTP/1.1 200 OK\r\r\nHost: athenz-zts-server\r\r\nContent-Type: application/json\r\r\nContent-Length: 1676\r\r\n\r\r\n"]
[44.327945, "o", "{\r\n  \"token\": \"-----BEGIN CERTIFICATE-----\\nMIIEezCCAmOgAwIBAgIGAXISDH3tMA0GCSqGSIb3DQEBCwUAMEsxCzAJBgNVBAYT\\nAlVTMQ8wDQYDVQQKDAZBdGhlbnoxKzApBgNVBAMMIlNhbXBsZSBTZWxmIFNpZ25l\\nZCBJbnRlcm1lZGlhdGUgQ0EwHhcNMjAwNTE0MDcxODI4WhcNMjAwNTE1MDcxODI4\\nWjA/MQswCQYDVQQGEwJVUzEPMA0GA1UECgwGQXRoZW56MR8wHQYDVQQDDBZ0ZXN0\\naW5nOnJvbGUudGVzdF9yb2xlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKC\\nAQEAqwDbfLkS71mm6Cn2kee4rbjWapN4AbpaWx57AJRBZ0H2y2D61aANhONbRv/I\\nexKxcMkUc4P0qaJvdNVTUpuHmKNXokady46OmDpsO9/dPg6TxXvQ9+oqMNoBWJgL\\nSaEAw6Ch/osZUwnT1pFUSKGVpg9oSKME+JfFuZnw7FL0JdvM9zLJvJOO4qrQ0aYn\\nj/lAvXaYPuo0zW6gklgeDKiQxHQp3ZCIopP9iC1y4ZkmfPM04wMI8L3rEvw2AovY\\nYSC223XfJgoU6OPa1l4mpHedZUYCe/Nw+a8QnG7mOqpwkQyMeoK41Nu40mQYPWvt\\n8vamPu5d+AT71yPD6qIUJRWzzwIDAQABo3EwbzAJBgNVHRMEAjAAMA4GA1UdDwEB\\n/wQEAwIFoDAgBgNVHSUBAf8EFjAUBggrBgEFBQcDAgYIKwYBBQUHAwEwMAYDVR0R\\nBCkwJ4EldGVzdGluZy50ZXN0X3NlcnZpY2VAZG5zLmF0aGVuei5jbG91ZDANBgkq\\nhkiG9w0BAQsFAAOCAgEArADDNrvI6pi6ihDlfu+gNYIaBCFad54S+zRqfHpV0eZY\\nFUN6ZmeEivVpYxqXG9zXNb+TnoQxJ6xxKMvklX6OpPhyzwTo0rQpEDgJ"]
[44.328272, "o", "mXps7/9W\\ntmgTIyZJdzpGz6e9pIaLuNEHYVOPk60nskeX16gnoKj5klgAg1o4Bt7q0xWwRDPU\\nFI6lUJujGR4Ng9zjxCbsQcu7TNq24rH+RBtbIaAnYS49YWXJ/QLJR7DuvlwxVpH6\\nAw5phElksng/S6ebx0kbBE03rpRK2YC/grRL4EbQja3wsSknLGv+89fQdP0rhq1P\\nXtpV11S+miDXORGYmRXU97KDInwzqRRH4+ZLihnVBUUmw7EdtsnSyqxA3ETt9Kkq\\n29NVxLLqAVdvsLTLijT1yzq7djp5N9n/ql2N1OuP/BnbiUXsXRK0X4n/RBt9Y/sf\\n2V9+hSTE2Jz2cVJonpjOIg7pFGcK/KAoYTd6HVue1W5Fw2I+f0oJu8diMdj7S/kH\\nl6iniGPgreV/H32FpizrlRONQ7aJHf8TOJcxTsEhGeByNkWNFwFT6I8CiUW1yBIw\\nUKVv20Ma6V55l8hzCFqTq+uCvUEa5uptfWLN9+hHGIsVarvpKXAS+3yEj/+hI79D\\nMViSptFgBD2CFfgqYzvM0rw9XBEHCSXFxPQvbhZgXoZbQbeoOtHeJXWRDi7k6Ww=\\n-----END CERTIFICATE-----\\n\",\r\n  \"expiryTime\": 1589527108\r\n}\r\n"]
[44.328991, "o", "\u001b(B\u001b[m"]
[44.332357, "o", "\u001b[35m"]
[44.333282, "o", "role certificate:\r\n"]
[44.334212, "o", "\u001b(B\u001b[m"]
[44.337407, "o", "\u001b[37m"]
[44.37289, "o", "Certificate:\r\n    Data:\r\n        Version: 3 (0x2)\r\n        Serial Number: 1589440708077 (0x172120c7ded)\r\n        Signature Algorithm: sha256WithRSAEncryption\r\n        Issuer: C = US, O = Athenz, CN = Sample Self Signed Intermediate CA\r\n        Validity\r\n            Not Before: May 14 07:18:28 2020 GMT\r\n            Not After : May 15 07:18:28 2020 GMT\r\n        Subject: C = US, O = Athenz, CN = testing:role.test_role\r\n        Subject Public Key Info:\r\n            Public Key Algorithm: rsaEncryption\r\n                RSA Public-Key: (2048 bit)\r\n                Modulus:\r\n                    00:ab:00:db:7c:b9:12:ef:59:a6:e8:29:f6:91:e7:\r\n                    b8:ad:b8:d6:6a:93:78:01:ba:5a:5b:1e:7b:00:94:\r\n                    41:67:41:f6:cb:60:fa:d5:a0:0d:84:e3:5b:46:ff:\r\n                    c8:7b:12:b1:70:c9:14:73:83:f4:a9:a2:6f:74:d5:\r\n                    53:52:9b:87:98:a3:57:a2:46:9d:cb:8e:8e:98:3a:\r\n                    6c:3b:df:dd:3e:0e:93:c5:7b:d0:f7:ea:2a:30:da:\r\n                    01:58:98:0b:49:a1:00:c3:a0:a1"]
[44.373203, "o", ":fe:8b:19:53:09:\r\n                    d3:d6:91:54:48:a1:95:a6:0f:68:48:a3:04:f8:97:\r\n                    c5:b9:99:f0:ec:52:f4:25:db:cc:f7:32:c9:bc:93:\r\n                    8e:e2:aa:d0:d1:a6:27:8f:f9:40:bd:76:98:3e:ea:\r\n                    34:cd:6e:a0:92:58:1e:0c:a8:90:c4:74:29:dd:90:\r\n                    88:a2:93:fd:88:2d:72:e1:99:26:7c:f3:34:e3:03:\r\n                    08:f0:bd:eb:12:fc:36:02:8b:d8:61:20:b6:db:75:\r\n                    df:26:0a:14:e8:e3:da:d6:5e:26:a4:77:9d:65:46:\r\n                    02:7b:f3:70:f9:af:10:9c:6e:e6:3a:aa:70:91:0c:\r\n                    8c:7a:82:b8:d4:db:b8:d2:64:18:3d:6b:ed:f2:f6:\r\n                    a6:3e:ee:5d:f8:04:fb:d7:23:c3:ea:a2:14:25:15:\r\n                    b3:cf\r\n                Exponent: 65537 (0x10001)\r\n        X509v3 extensions:\r\n            X509v3 Basic Constraints: \r\n                CA:FALSE\r\n            X509v3 Key Usage: critical\r\n                Digital Signature, Key Encipherment\r\n            X509v3 Extended Key Usage: critical\r\n                TLS Web Client"]
[44.373423, "o", " Authentication, TLS Web Server Authentication\r\n            X509v3 Subject Alternative Name: \r\n                email:testing.test_service@dns.athenz.cloud\r\n    Signature Algorithm: sha256WithRSAEncryption\r\n         ac:00:c3:36:bb:c8:ea:98:ba:8a:10:e5:7e:ef:a0:35:82:1a:\r\n         04:21:5a:77:9e:12:fb:34:6a:7c:7a:55:d1:e6:58:15:43:7a:\r\n         66:67:84:8a:f5:69:63:1a:97:1b:dc:d7:35:bf:93:9e:84:31:\r\n         27:ac:71:28:cb:e4:95:7e:8e:a4:f8:72:cf:04:e8:d2:b4:29:\r\n         10:38:09:99:7a:6c:ef:ff:56:b6:68:13:23:26:49:77:3a:46:\r\n         cf:a7:bd:a4:86:8b:b8:d1:07:61:53:8f:93:ad:27:b2:47:97:\r\n         d7:a8:27:a0:a8:f9:92:58:00:83:5a:38:06:de:ea:d3:15:b0:\r\n         44:33:d4:14:8e:a5:50:9b:a3:19:1e:0d:83:dc:e3:c4:26:ec:\r\n"]
[44.373517, "o", "         41:cb:bb:4c:da:b6:e2:b1:fe:44:1b:5b:21:a0:27:61:2e:3d:\r\n         61:65:c9:fd:02:c9:47:b0:ee:be:5c:31:56:91:fa:03:0e:69:\r\n         84:49:64:b2:78:3f:4b:a7:9b:c7:49:1b:04:4d:37:ae:94:4a:\r\n         d9:80:bf:82:b4:4b:e0:46:d0:8d:ad:f0:b1:29:27:2c:6b:fe:\r\n         f3:d7:d0:74:fd:2b:86:ad:4f:5e:da:55:d7:54:be:9a:20:d7:\r\n         39:11:98:99:15:d4:f7:b2:83:22:7c:33:a9:14:47:e3:e6:4b:\r\n         8a:19:d5:05:45:26:c3:b1:1d:b6:c9:d2:ca:ac:40:dc:44:ed:\r\n         f4:a9:2a:db:d3:55:c4:b2:ea:01:57:6f:b0:b4:cb:8a:34:f5:\r\n         cb:3a:bb:76:3a:79:37:d9:ff:aa:5d:8d:d4:eb:8f:fc:19:db:\r\n         89:45:ec:5d:12:b4:5f:89:ff:44:1b:7d:63:fb:1f:d9:5f:7e:\r\n         85:24:c4:d8:9c:f6:71:52:68:9e:98:ce:22:0e:e9:14:67:0a:\r\n         fc:a0:28:61:37:7a:1d:5b:9e:d5:6e:45:c3:62:3e:7f:4a:09:\r\n         bb:c7:62:31:d8:fb:4b:f9:07:97:a8:a7:88:63:e0:ad:e5:7f:\r\n         1f:7d:85:a6:2c:eb:95:13:8d:43:b6:89:1d:ff:13:38:97:31:\r\n         4e:c1:21:19:e0:72:36:45:8d:17:01:53:e8:8f:02:89:45:b5:\r\n         c8:12:30:50:a5:6f:db:43:1a:e9:5e:79:97:c"]
[44.373757, "o", "8:73:08:5a:93:\r\n         ab:eb:82:bd:41:1a:e6:ea:6d:7d:62:cd:f7:e8:47:18:8b:15:\r\n         6a:bb:e9:29:70:12:fb:7c:84:8f:ff:a1:23:bf:43:31:58:92:\r\n         a6:d1:60:04:3d:82:15:f8:2a:63:3b:cc:d2:bc:3d:5c:11:07:\r\n         09:25:c5:c4:f4:2f:6e:16:60:5e:86:5b:41:b7:a8:3a:d1:de:\r\n         25:75:91:0e:2e:e4:e9:6c\r\n-----BEGIN CERTIFICATE-----\r\nMIIEezCCAmOgAwIBAgIGAXISDH3tMA0GCSqGSIb3DQEBCwUAMEsxCzAJBgNVBAYT\r\nAlVTMQ8wDQYDVQQKDAZBdGhlbnoxKzApBgNVBAMMIlNhbXBsZSBTZWxmIFNpZ25l\r\nZCBJbnRlcm1lZGlhdGUgQ0EwHhcNMjAwNTE0MDcxODI4WhcNMjAwNTE1MDcxODI4\r\nWjA/MQswCQYDVQQGEwJVUzEPMA0GA1UECgwGQXRoZW56MR8wHQYDVQQDDBZ0ZXN0\r\naW5nOnJvbGUudGVzdF9yb2xlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKC\r\nAQEAqwDbfLkS71mm6Cn2kee4rbjWapN4AbpaWx57AJRBZ0H2y2D61aANhONbRv/I\r\nexKxcMkUc4P0qaJvdNVTUpuHmKNXokady46OmDpsO9/dPg6TxXvQ9+oqMNoBWJgL\r\nSaEAw6Ch/osZUwnT1pFUSKGVpg9oSKME+JfFuZnw7FL0JdvM9zLJvJOO4qrQ0aYn\r\nj/lAvXaYPuo0zW6gklgeDKiQxHQp3ZCIopP9iC1y4ZkmfPM04wMI8L3rEvw2AovY\r\nYSC223XfJgoU6OPa1l4mpHedZUYCe/Nw+a8QnG7mOqpwkQyMeoK41Nu40mQYPWvt\r\n8vamPu5d+AT71yPD6qIUJRWzz"]
[44.373859, "o", "wIDAQABo3EwbzAJBgNVHRMEAjAAMA4GA1UdDwEB\r\n/wQEAwIFoDAgBgNVHSUBAf8EFjAUBggrBgEFBQcDAgYIKwYBBQUHAwEwMAYDVR0R\r\nBCkwJ4EldGVzdGluZy50ZXN0X3NlcnZpY2VAZG5zLmF0aGVuei5jbG91ZDANBgkq\r\nhkiG9w0BAQsFAAOCAgEArADDNrvI6pi6ihDlfu+gNYIaBCFad54S+zRqfHpV0eZY\r\nFUN6ZmeEivVpYxqXG9zXNb+TnoQxJ6xxKMvklX6OpPhyzwTo0rQpEDgJmXps7/9W\r\ntmgTIyZJdzpGz6e9pIaLuNEHYVOPk60nskeX16gnoKj5klgAg1o4Bt7q0xWwRDPU\r\nFI6lUJujGR4Ng9zjxCbsQcu7TNq24rH+RBtbIaAnYS49YWXJ/QLJR7DuvlwxVpH6\r\nAw5phElksng/S6ebx0kbBE03rpRK2YC/grRL4EbQja3wsSknLGv+89fQdP0rhq1P\r\nXtpV11S+miDXORGYmRXU97KDInwzqRRH4+ZLihnVBUUmw7EdtsnSyqxA3ETt9Kkq\r\n29NVxLLqAVdvsLTLijT1yzq7djp5N9n/ql2N1OuP/BnbiUXsXRK0X4n/RBt9Y/sf\r\n2V9+hSTE2Jz2cVJonpjOIg7pFGcK/KAoYTd6HVue1W5Fw2I+f0oJu8diMdj7S/kH\r\nl6iniGPgreV/H32FpizrlRONQ7aJHf8TOJcxTsEhGeByNkWNFwFT6I8CiUW1yBIw\r\nUKVv20Ma6V55l8hzCFqTq+uCvUEa5uptfWLN9+hHGIsVarvpKXAS+3yEj/+hI79D\r\n"]
[44.374982, "o", "MViSptFgBD2CFfgqYzvM0rw9XBEHCSXFxPQvbhZgXoZbQbeoOtHeJXWRDi7k6Ww=\r\n-----END CERTIFICATE-----\r\n"]
[44.376419, "o", "\u001b(B\u001b[m"]
[44.379472, "o", "\u001b[35m"]
[44.380444, "o", "NOTE: Save the role certificate for next test (intermediate CA is added in next step)\r\n"]
[44.38141, "o", "\u001b(B\u001b[m"]
[44.384538, "o", "\u001b[37m"]
[44.417942, "o", "-rw-r--r-- 1 111626 users 1615 May 14 07:18 /athenz/docker/sample/test_service/role_cert.pem\r\n"]
[44.419144, "o", "\u001b(B\u001b[m"]
[44.422242, "o", "\u001b[33m"]
[44.423122, "o", "5. retrieve service certificate (PostInstanceRefreshRequest)\r\n"]
[44.424175, "o", "\u001b(B\u001b[m"]
[44.42921, "o", "\u001b[35m"]
[44.430253, "o", "request body:\r\n"]
[44.431196, "o", "\u001b(B\u001b[m"]
[44.434401, "o", "\u001b[37m"]
[44.435387, "o", "{\r\n    \"keyId\": \"test_public_key\",\r\n    \"csr\": \"-----BEGIN CERTIFICATE REQUEST-----\\nMIIDJTCCAg0CAQAwPTELMAkGA1UEBhMCVVMxDzANBgNVBAoMBkF0aGVuejEdMBsG\\nA1UEAwwUdGVzdGluZy50ZXN0X3NlcnZpY2UwggEiMA0GCSqGSIb3DQEBAQUAA4IB\\nDwAwggEKAoIBAQDEic00cE//Nl7BVPX+um7X4RyiKm2zRYB95KgJDPZUxaF75oAc\\nLcpW0w825YTnG4ge4FXFXMMiiMfAtpxXkBFh9ruoFGK92ejv/sSbAc9PfqhueXa+\\nHyPaRmLXn8cCiLyRyqN8cXRsBpL4ohEqAnBHjBn1A6XSaEWIFK/7pBqu1DIYkWnz\\n6uXwiQB+pQ/VAyt+MqAZ3yxq9Tuu+xyOTA4t4ZpBbJgNL6kHHv72APE9jmWT4jZ0\\nrY7ChgPypxVINnCkRW63C5J7ZxAkBUTC5b+f888dGshCRDRT/xl17i024REMAQik\\nHGQyHs6KGUeoJD2s76eSDmOmW+YX5xEi/h3tAgMBAAGggaIwgZ8GCSqGSIb3DQEJ\\nDjGBkTCBjjAMBgNVHRMBAf8EAjAAMBMGA1UdJQQMMAoGCCsGAQUFBwMCMGkGA1Ud\\nEQRiMGCCJXRlc3Rfc2VydmljZS50ZXN0aW5nLmRucy5hdGhlbnouY2xvdWSCN3Rl\\nc3Rfc2VydmljZS50ZXN0aW5nLmluc3RhbmNlaWQuYXRoZW56LmRucy5hdGhlbnou\\nY2xvdWQwDQYJKoZIhvcNAQELBQADggEBAEV4BhHB9pPTidnwFNU1RDFBomaiuS5p\\nQd6CNEj7gqUNFULjIa8mHzGLIw7D8Sj850p/upL/xiZ2iwHgKJ2UXGZh4pzEIzpC\\nBTS/it8iV/Ab0YqQKvpH5bJrx9tS8YY44Aj2GWXwaTOOKvQC2yFmn9ezGYveVPTH\\nt6gTQZrRIaJCWGA"]
[44.435563, "o", "8qZ8QqfTpVQQNanjmHLfXHd52B5BMlZ1J6Y23r38/9ex5fvgS\\n/yTc4Bh2h7pTWmk+GfbehFRdz1/xIyZkM1fCbrC9f85ksK19OeBl3UmWRYR+mFl9\\n4Fsli97e1sAmc5HiEcEOv9H4c9uoaD/sYOFH/FjPB2CfKdIkuEKvRsY=\\n-----END CERTIFICATE REQUEST-----\\n\"\r\n}\r\n"]
[44.436621, "o", "\u001b(B\u001b[m"]
[44.439692, "o", "\u001b[35m"]
[44.440734, "o", "response:\r\n"]
[44.441809, "o", "\u001b(B\u001b[m"]
[44.444952, "o", "\u001b[37m"]
[44.506412, "o", "HTTP/1.1 100 Continue\r\r\n\r\r\nHTTP/1.1 200 OK\r\r\n"]
[44.506719, "o", "Host: athenz-zts-server\r\r\nContent-Type: application/json\r\r\nContent-Length: 3790\r\r\n\r\r\n"]
[44.543589, "o", "{\r\n  \"name\": \"testing.test_service\",\r\n  \"certificate\": \"-----BEGIN CERTIFICATE-----\\nMIIEtDCCApygAwIBAgIGAXISDH7dMA0GCSqGSIb3DQEBCwUAMEsxCzAJBgNVBAYT\\nAlVTMQ8wDQYDVQQKDAZBdGhlbnoxKzApBgNVBAMMIlNhbXBsZSBTZWxmIFNpZ25l\\nZCBJbnRlcm1lZGlhdGUgQ0EwHhcNMjAwNTE0MDcxODI4WhcNMjAwNjEzMDcxODI4\\nWjA9MQswCQYDVQQGEwJVUzEPMA0GA1UECgwGQXRoZW56MR0wGwYDVQQDDBR0ZXN0\\naW5nLnRlc3Rfc2VydmljZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEB\\nAMSJzTRwT/82XsFU9f66btfhHKIqbbNFgH3kqAkM9lTFoXvmgBwtylbTDzblhOcb\\niB7gVcVcwyKIx8C2nFeQEWH2u6gUYr3Z6O/+xJsBz09+qG55dr4fI9pGYtefxwKI\\nvJHKo3xxdGwGkviiESoCcEeMGfUDpdJoRYgUr/ukGq7UMhiRafPq5fCJAH6lD9UD\\nK34yoBnfLGr1O677HI5MDi3hmkFsmA0vqQce/vYA8T2OZZPiNnStjsKGA/KnFUg2\\ncKRFbrcLkntnECQFRMLlv5/zzx0ayEJENFP/GXXuLTbhEQwBCKQcZDIezooZR6gk\\nPazvp5IOY6Zb5hfnESL+He0CAwEAAaOBqzCBqDAJBgNVHRMEAjAAMA4GA1UdDwEB\\n/wQEAwIFoDAgBgNVHSUBAf8EFjAUBggrBgEFBQcDAgYIKwYBBQUHAwEwaQYDVR0R\\nBGIwYIIldGVzdF9zZXJ2aWNlLnRlc3RpbmcuZG5zLmF0aGVuei5jbG91ZII3dGVz\\ndF9zZXJ2aWNlLnRlc3RpbmcuaW5zdGFuY2VpZC5hdGhlbnouZG5zLmF0aGVuei5j\\nbG91ZDANBgkqhki"]
[44.543762, "o", "G9w0BAQsFAAOCAgEAfgtt3OGQAhItH22bbHH+JSi7jEir5YGK\\nM4SBMTUR6/LFlG6GM2XGUxlpxfaYZoXGlYMgYSwMjQ6E0R2ocxefcXX3gUy7iSoO\\n12WDclr0J8o6piz1iTP7x/EW4B9S0QQ48+1D5nXYf5N9bmauTsEd7fdu7IMyos+i\\nlmoSPxXc7wqw8fxFPgbZc6upKuv73SB3JUX4+xE0Iya67/fRanCG6e3air2vOHya\\nXTFg6SmvFXY5sDc64ncvzoemWkAtVyef4ytxjy3TPzIltvUKBnT0ouM5VxDUkA1I\\nrUEL0BLVZWnV5q1wAoAWEoKtcnMaEDolOZtUFnT2thYGr6Nnvzukv3X1HoIvt6+N\\nxxGF9awZuqBvxmMBcr7Hj6aQG9xrYxMTsqZ7Am7gGb9Zj/f0wXQ8IS4S0quU9+u7\\ngp9hSfKtdFS6bkdrLnq80J4ASNtxW14msO0iu6tnBVvmjO08HwPEd0+l0UuwLlIp\\n3Th5h0JUQyeDylMBLVWkLEUuEFCyqz7oURbKHiiYDxHIWu4b0z+SRfcyb1LBO6C/\\nrib//XdlSXDyp4ljQC4rSi9bsqTkETbQ3a82TLKAIMMH1p9GjyI0+SftaUU27tTr\\nkExF+dPxPFos4gune+eNVA7Y2ot8LGbvRMJ5vTNgBszdLq6cx6+s/4CiUQVsvq6B\\n9dX1ydspJI8=\\n-----END CERTIFICATE-----\\n\",\r\n  \"caCertBundle\": \"-----BEGIN CERTIFICATE-----\\nMIIFgjCCA2qgAwIBAgIUZS+t8Aqkix3uJ10/RctBc8JAORIwDQYJKoZIhvcNAQEL\\nBQAwRjELMAkGA1UEBhMCVVMxDzANBgNVBAoMBkF0aGVuejEmMCQGA1UEAwwdU2Ft\\ncGxlIFNlbGYgU2lnbmVkIFNlcnZpY2UgQ0EwHhcNMjAwNTE0MDcxNjM0WhcNMzAw\\nNTEyMDcxNjM0WjBLMQswCQ"]
[44.543831, "o", "YDVQQGEwJVUzEPMA0GA1UECgwGQXRoZW56MSswKQYD\\nVQQDDCJTYW1wbGUgU2VsZiBTaWduZWQgSW50ZXJtZWRpYXRlIENBMIICIjANBgkq\\nhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEArX8aTfEwX/Bvn/J3slCH96RzYbgfpwPX\\nO4aDPihFtZQ8KsA28KhHIBvbel3VWbWaJZIqZ1NAy6VC/Gil9AxZeZjZbezHG4sP\\nP0jZ4vGL4ZQ5oh66/hm9eLkgdls6/QgrA35c4ltSQ/rIr/pltyxo0QVjWiOvlT30\\nJ8dhuDogBlxwMOzNqyVdnP2K32zuZTXzwGUSI2p1kIbdpA7ib6ws3PDCyBnx40BK\\nyAMdDFz5ag+QHhRVGgjTp5bHwF57ako6Q9sIv96wTTCiRAv1aTOGPapHpZvSe2kn\\nPBzBPIgma76+B2HzHAkPKwu4mJtRfQHg/BMcheOqiYGz++R15WzclAbJ8rD3RNMR\\nk16ouCTZ5w4GbCwqL+DHGOzz+CCOvou6UmkpvbDYKyCMIHFX7TW/Nl3kc3WHQyQv\\nemmpVpnGrUwkcKbpQdwPKWuUBAfRPHrkgJe8ewkqgpbK1HaAn/H8ZXwnCmSA5yEA\\njBL4o6A/ZMBmGVH0utSS8rrNpru4DfSXJYRADea0NtvmQ2uKBMSwf29KtIDRYecP\\nHxcKpkdYDffxqHd0GQ42Slu2bW/VsfaQNu4ORbn6xa7ZEio5dSGqQLlhNb2TzsaN\\n4KZqOy7mNHNCHEsdfQ6zxV2J0870lfZpY+8pet+rcxqQXez4FFQlppF+toF3gYdi\\nggru2UC7ZwsCAwEAAaNjMGEwHQYDVR0OBBYEFAvXQSP2ILjSHSo8CCB3A4E90rj/\\nMB8GA1UdIwQYMBaAFGxN5wxpS6KU6K71O4YbbQhctZTfMA8GA1UdEwEB/wQFMAMB\\nAf8wDgYDVR0PAQH/BAQDAgEGMA0GCSqGSIb3DQEBCwUAA4ICAQBo0roY"]
[44.543853, "o", "39mqo4rR\\nhYg9xyRhClLUEvKmGtS6mrjl3h7rjtGQzV+ZoznMVDwI0sHyiT1xAeBw4rPUTeZJ\\nhMuDqjGj57lLdvMSOF+TWKKnzEsCu7R+Qdwn8Ko2oWgAgQvtcfsmiXCWHGvYFdln\\nnFshuYridgBLkJqr1Y/M2qnB4E+Cl8Wlpa17z8roz1hIb1Np0vcUp9QQwg+pwmHH\\nQ7NxmI4DJj0R3+BNPqIKOKC/yAq7xbUsn0zIuHhZ06z4XbouhGOppyd2ANWcOP/F\\n6veFSE8MbqmxRBj7ZYVmiyr4jQjZDuv2RhLymXF1+j+u7Q12AVleoFKQfW8gs0xC\\nQ6Q+XWkKoC4xPsVMI3lpCYmhPzQv7uf/BJ89wA8CPn2tf2/+zya70O7pkaJucOJh\\n94nzZvXZ1jaOPrW83unU45K79WiFQohdsZ6DZaJ/ZhkpxBF4MaqJwe3GrtGrZRke\\neccc1M9RhlwoCXYp2p3UAW39GbBVi0S8xCO78BOi+ONS0cl6yrFBGRIyqfuJrwM9\\nEQjWY2fjMkg+y9mf7CEZHK19SWBdB2UR3OBKOl/kDF6TaRN/I+/Yh1/GQ05WsD9Z\\nTw+Tz2qALWoKWYxYpevGWepXRFkPFhyqBmMRUqFXuXQW83GmZ9oBIg7/xCjbNGHk\\nN0IwSQQgEmEr9c2nvgUcSsP39t9n2Q==\\n-----END CERTIFICATE-----\\n\"\r\n}\r\n"]
[44.545188, "o", "\u001b(B\u001b[m"]
[44.548684, "o", "\u001b[35m"]
[44.549723, "o", "service certificate:\r\n"]
[44.55078, "o", "\u001b(B\u001b[m"]
[44.554052, "o", "\u001b[37m"]
[44.589461, "o", "Certificate:\r\n    Data:\r\n"]
[44.589643, "o", "        Version: 3 (0x2)\r\n        Serial Number: 1589440708317 (0x172120c7edd)\r\n"]
[44.589812, "o", "        Signature Algorithm: sha256WithRSAEncryption\r\n        Issuer: C = US, O = Athenz, CN = Sample Self Signed Intermediate CA\r\n"]
[44.589933, "o", "        Validity\r\n            Not Before: May 14 07:18:28 2020 GMT\r\n            Not After : Jun 13 07:18:28 2020 GMT\r\n        Subject: C = US, O = Athenz, CN = testing.test_service\r\n"]
[44.590127, "o", "        Subject Public Key Info:\r\n            Public Key Algorithm: rsaEncryption\r\n"]
[44.590251, "o", "                RSA Public-Key: (2048 bit)\r\n                Modulus:"]
[44.590377, "o", "\r\n                    00:c4:89:cd:34:70:4f:ff:36:5e:c1:54:f5:fe:ba:\r\n"]
[44.590516, "o", "                    6e:d7:e1:1c:a2:2a:6d:b3:45:80:7d:e4:a8:09:0c:\r\n                    f6:54:c5:a1:7b:e6:80:1c:2d:ca:56:d3:0f:36:e5:\r\n"]
[44.590663, "o", "                    84:e7:1b:88:1e:e0:55:c5:5c:c3:22:88:c7:c0:b6:\r\n                    9c:57:90:11:61:f6:bb:a8:14:62:bd:d9:e8:ef:fe:\r\n"]
[44.590816, "o", "                    c4:9b:01:cf:4f:7e:a8:6e:79:76:be:1f:23:da:46:\r\n                    62:d7:9f:c7:02:88:bc:91:ca:a3:7c:71:74:6c:06:\r\n                   "]
[44.590945, "o", " 92:f8:a2:11:2a:02:70:47:8c:19:f5:03:a5:d2:68:\r\n"]
[44.591071, "o", "                    45:88:14:af:fb:a4:1a:ae:d4:32:18:91:69:f3:ea:\r\n                    e5:f0:89:00:7e:a5:0f:d5:03:2b:7e:32:a0:19:df:\r\n                    2c:6a:f5:3b:ae:fb:1c:8e:4c:0e:2d:e1:9a:41:6c:"]
[44.591263, "o", "\r\n                    98:0d:2f:a9:07:1e:fe:f6:00:f1:3d:8e:65:93:e2:\r\n"]
[44.591384, "o", "                    36:74:ad:8e:c2:86:03:f2:a7:15:48:36:70:a4:45:\r\n                    6e:b7:0b:92:7b:67:10:24:05:44:c2:e5:bf:9f:f3:\r\n"]
[44.591511, "o", "                    cf:1d:1a:c8:42:44:34:53:ff:19:75:ee:2d:36:e1:"]
[44.591629, "o", "\r\n                    11:0c:01:08:a4:1c:64:32:1e:ce:8a:19:47:a8:24:\r\n                    3d:ac:ef:a7:92:0e:63:a6:5b:e6:17:e7:11:22:fe:\r\n"]
[44.591756, "o", "                    1d:ed\r\n                Exponent: 65537 (0x10001)"]
[44.591866, "o", "\r\n        X509v3 extensions:\r\n            X509v3 Basic Constraints: "]
[44.592012, "o", "\r\n                CA:FALSE\r\n            X509v3 Key Usage: critical\r\n                Digital Signature, Key Encipherment"]
[44.59215, "o", "\r\n            X509v3 Extended Key Usage: critical\r\n"]
[44.592261, "o", "                TLS Web Client Authentication, TLS Web Server Authentication\r\n            X509v3 Subject Alternative Name: \r\n                DNS:test_service.testing.dns.athenz.cloud, DNS:test_service.testing.instanceid.athenz.dns.athenz.cloud"]
[44.592357, "o", "\r\n    Signature Algorithm: sha256WithRSAEncryption\r\n"]
[44.592438, "o", "         7e:0b:6d:dc:e1:90:02:12:2d:1f:6d:9b:6c:71:fe:25:28:bb:\r\n         8c:48:ab:e5:81:8a:33:84:81:31:35:11:eb:f2:c5:94:6e:86:"]
[44.592538, "o", "\r\n         33:65:c6:53:19:69:c5:f6:98:66:85:c6:95:83:20:61:2c:0c:\r\n"]
[44.592632, "o", "         8d:0e:84:d1:1d:a8:73:17:9f:71:75:f7:81:4c:bb:89:2a:0e:\r\n         d7:65:83:72:5a:f4:27:ca:3a:a6:2c:f5:89:33:fb:c7:f1:16:\r\n         e0:1f:52:d1:04:38:f3:ed:43:e6:75:d8:7f:93:7d:6e:66:ae:"]
[44.592737, "o", "\r\n         4e:c1:1d:ed:f7:6e:ec:83:32:a2:cf:a2:96:6a:12:3f:15:dc:\r\n         ef:0a:b0:f1:fc:45:3e:06:d9:73:ab:a9:2a:eb:fb:dd:20:77:"]
[44.592833, "o", "\r\n         25:45:f8:fb:11:34:23:26:ba:ef:f7:d1:6a:70:86:e9:ed:da:\r\n         8a:bd:af:38:7c:9a:5d:31:60:e9:29:af:15:76:39:b0:37:3a:\r\n"]
[44.592931, "o", "         e2:77:2f:ce:87:a6:5a:40:2d:57:27:9f:e3:2b:71:8f:2d:d3:\r\n         3f:32:25:b6:f5:0a:06:74:f4:a2:e3:39:57:10:d4:90:0d:48:\r\n"]
[44.593194, "o", "         ad:41:0b:d0:12:d5:65:69:d5:e6:ad:70:02:80:16:12:82:ad:\r\n         72:73:1a:10:3a:25:39:9b:54:16:74:f6:b6:16:06:af:a3:67:\r\n         bf:3b:a4:bf:75:f5:1e:82:2f:b7:af:8d:c7:11:85:f5:ac:19:\r\n         ba:a0:6f:c6:63:01:72:be:c7:8f:a6:90:1b:dc:6b:63:13:13:\r\n         b2:a6:7b:02:6e:e0:19:bf:59:8f:f7:f4:c1:74:3c:21:2e:12:\r\n"]
[44.59333, "o", "         d2:ab:94:f7:eb:bb:82:9f:61:49:f2:ad:74:54:ba:6e:47:6b:\r\n         2e:7a:bc:d0:9e:00:48:db:71:5b:5e:26:b0:ed:22:bb:ab:67:\r\n         05:5b:e6:8c:ed:3c:1f:03:c4:77:4f:a5:d1:4b:b0:2e:52:29:"]
[44.593431, "o", "\r\n         dd:38:79:87:42:54:43:27:83:ca:53:01:2d:55:a4:2c:45:2e:\r\n         10:50:b2:ab:3e:e8:51:16:ca:1e:28:98:0f:11:c8:5a:ee:1b:"]
[44.593593, "o", "\r\n         d3:3f:92:45:f7:32:6f:52:c1:3b:a0:bf:ae:26:ff:fd:77:65:\r\n         49:70:f2:a7:89:63:40:2e:2b:4a:2f:5b:b2:a4:e4:11:36:d0:\r\n         dd:af:36:4c:b2:80:20:c3:07:d6:9f:46:8f:22:34:f9:27:ed:\r\n         69:45:36:ee:d4:eb:90:4c:45:f9:d3:f1:3c:5a:2c:e2:0b:a7:"]
[44.593707, "o", "\r\n         7b:e7:8d:54:0e:d8:da:8b:7c:2c:66:ef:44:c2:79:bd:33:60:\r\n"]
[44.593794, "o", "         06:cc:dd:2e:ae:9c:c7:af:ac:ff:80:a2:51:05:6c:be:ae:81:\r\n         f5:d5:f5:c9:db:29:24:8f"]
[44.593935, "o", "\r\n-----BEGIN CERTIFICATE-----\r\nMIIEtDCCApygAwIBAgIGAXISDH7dMA0GCSqGSIb3DQEBCwUAMEsxCzAJBgNVBAYT\r\nAlVTMQ8wDQYDVQQKDAZBdGhlbnoxKzApBgNVBAMMIlNhbXBsZSBTZWxmIFNpZ25l\r\nZCBJbnRlcm1lZGlhdGUgQ0EwHhcNMjAwNTE0MDcxODI4WhcNMjAwNjEzMDcxODI4"]
[44.594056, "o", "\r\nWjA9MQswCQYDVQQGEwJVUzEPMA0GA1UECgwGQXRoZW56MR0wGwYDVQQDDBR0ZXN0\r\naW5nLnRlc3Rfc2VydmljZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEB"]
[44.594316, "o", "\r\nAMSJzTRwT/82XsFU9f66btfhHKIqbbNFgH3kqAkM9lTFoXvmgBwtylbTDzblhOcb\r\niB7gVcVcwyKIx8C2nFeQEWH2u6gUYr3Z6O/+xJsBz09+qG55dr4fI9pGYtefxwKI\r\nvJHKo3xxdGwGkviiESoCcEeMGfUDpdJoRYgUr/ukGq7UMhiRafPq5fCJAH6lD9UD\r\n"]
[44.594404, "o", "K34yoBnfLGr1O677HI5MDi3hmkFsmA0vqQce/vYA8T2OZZPiNnStjsKGA/KnFUg2\r\ncKRFbrcLkntnECQFRMLlv5/zzx0ayEJENFP/GXXuLTbhEQwBCKQcZDIezooZR6gk\r\nPazvp5IOY6Zb5hfnESL+He0CAwEAAaOBqzCBqDAJBgNVHRMEAjAAMA4GA1UdDwEB"]
[44.594508, "o", "\r\n/wQEAwIFoDAgBgNVHSUBAf8EFjAUBggrBgEFBQcDAgYIKwYBBQUHAwEwaQYDVR0R\r\nBGIwYIIldGVzdF9zZXJ2aWNlLnRlc3RpbmcuZG5zLmF0aGVuei5jbG91ZII3dGVz\r\n"]
[44.594618, "o", "dF9zZXJ2aWNlLnRlc3RpbmcuaW5zdGFuY2VpZC5hdGhlbnouZG5zLmF0aGVuei5j\r\nbG91ZDANBgkqhkiG9w0BAQsFAAOCAgEAfgtt3OGQAhItH22bbHH+JSi7jEir5YGK\r\nM4SBMTUR6/LFlG6GM2XGUxlpxfaYZoXGlYMgYS"]
[44.594731, "o", "wMjQ6E0R2ocxefcXX3gUy7iSoO\r\n12WDclr0J8o6piz1iTP7x/EW4B9S0QQ48+1D5nXYf5N9bmauTsEd7fdu7IMyos+i\r\nlmoSPxXc7wqw8fxFPgbZc6upKuv73SB3JUX4+xE0Iya67/fRanCG6e3air2vOHya"]
[44.594836, "o", "\r\nXTFg6SmvFXY5sDc64ncvzoemWkAtVyef4ytxjy3TPzIltvUKBnT0ouM5VxDUkA1I\r\nrUEL0BLVZWnV5q1wAoAWEoKtcnMaEDolOZtUFnT2thYGr6Nnvzukv3X1HoIvt6+N\r\n"]
[44.594928, "o", "xxGF9awZuqBvxmMBcr7Hj6aQG9xrYxMTsqZ7Am7gGb9Zj/f0wXQ8IS4S0quU9+u7\r\ngp9hSfKtdFS6bkdrLnq80J4ASNtxW14msO0iu6tnBVvmjO08HwPEd0+l0UuwLlIp\r\n3Th5h0JUQyeDylMBLVWkLEUuEFCyqz7oURbKHiiYDxHIWu4b0z+SRfcyb1LBO6C/"]
[44.595009, "o", "\r\nrib//XdlSXDyp4ljQC4rSi9bsqTkETbQ3a82TLKAIMMH1p9GjyI0+SftaUU27tTr\r\n"]
[44.595137, "o", "kExF+dPxPFos4gune+eNVA7Y2ot8LGbvRMJ5vTNgBszdLq6cx6+s/4CiUQVsvq6B\r\n9dX1ydspJI8=\r\n-----END CERTIFICATE-----"]
[44.595242, "o", "\r\n"]
[44.596401, "o", "\u001b(B\u001b[m"]
[44.599704, "o", "\u001b[35m"]
[44.600612, "o", "NOTE: Save the service certificate for next test\r\n"]
[44.601543, "o", "\u001b(B\u001b[m"]
[44.60476, "o", "\u001b[37m"]
[44.673828, "o", "-rw-r--r-- 1 111626 users 3666 May 14 07:18 /athenz/docker/sample/test_service/test_service.crt\r\n"]
[44.67514, "o", "\u001b(B\u001b[m"]
[44.714571, "o", "\u001b[35m"]
[44.71552, "o", "NOTE: intermediate CA is appended to test_service.crt\r\n"]
[44.7165, "o", "\u001b(B\u001b[m"]
[44.719563, "o", "\u001b[35m"]
[44.720492, "o", "NOTE: intermediate CA is appended to role_cert.pem\r\n"]
[44.721422, "o", "\u001b(B\u001b[m"]
[44.724733, "o", "\u001b[32m"]
[44.725608, "o", "Authorization acceptance test\r\n"]
[44.726581, "o", "\u001b(B\u001b[m"]
[44.729756, "o", "\u001b[33m"]
[44.730626, "o", "1. Using CA signed client certificate\r\n"]
[44.731497, "o", "\u001b(B\u001b[m"]
[44.734785, "o", "\u001b[37m"]
[44.735733, "o", "-rw-r--r-- 1 111626 users 3647 May 14 07:17 /athenz/docker/sample/test_service/cert.pem\r\n-rw------- 1 111626 users 1704 May 14 07:17 /athenz/docker/sample/test_service/key.pem\r\n\r\nauthz_curl='curl --cacert /athenz/docker/sample/CAs/athenz_ca.pem --key /athenz/docker/sample/test_service/key.pem --cert /athenz/docker/sample/test_service/cert.pem --silent --show-error -D header.http -o response.json'\r\n"]
[44.736756, "o", "\u001b(B\u001b[m"]
[44.739945, "o", "\u001b[35m"]
[44.740926, "o", "ZMS response:\r\n"]
[44.741886, "o", "\u001b(B\u001b[m"]
[44.745125, "o", "\u001b[37m"]
[44.783644, "o", "HTTP/1.1 200 OK\r\r\nHost: athenz-zms-server\r\r\nContent-Type: application/json\r\r\nContent-Length: 16\r\r\n\r\r\n"]
[44.81929, "o", "{\r\n  \"granted\": true\r\n}\r\n"]
[44.8202, "o", "\u001b(B\u001b[m"]
[44.823614, "o", "\u001b[35m"]
[44.824557, "o", "ZTS response:\r\n"]
[44.825506, "o", "\u001b(B\u001b[m"]
[44.828789, "o", "\u001b[37m"]
[44.864395, "o", "HTTP/1.1 200 OK\r\r\nHost: athenz-zts-server\r\r\nContent-Type: application/json\r\r\nContent-Length: 16\r\r\n\r\r\n"]
[44.898923, "o", "{\r\n  \"granted\": true\r\n}\r\n"]
[44.900064, "o", "\u001b(B\u001b[m"]
[44.903459, "o", "\u001b[33m"]
[44.904528, "o", "2. Using ZTS signed role certificate\r\n"]
[44.905574, "o", "\u001b(B\u001b[m"]
[44.908809, "o", "\u001b[37m"]
[44.909665, "o", "-rw-r--r-- 1 111626 users 3588 May 14 07:18 /athenz/docker/sample/test_service/role_cert.pem\r\n-rw------- 1 111626 users 1704 May 14 07:18 /athenz/docker/sample/test_service/role_key.pem\r\n\r\nauthz_curl='curl --cacert /athenz/docker/sample/CAs/athenz_ca.pem --key /athenz/docker/sample/test_service/role_key.pem --cert /athenz/docker/sample/test_service/role_cert.pem --silent --show-error -D header.http -o response.json'\r\n"]
[44.910649, "o", "\u001b(B\u001b[m"]
[44.91397, "o", "\u001b[35m"]
[44.914897, "o", "ZMS response (ONLY role token is allowed):\r\n"]
[44.916026, "o", "\u001b(B\u001b[m"]
[44.919123, "o", "\u001b[37m"]
[44.956663, "o", "HTTP/1.1 200 OK\r\r\nHost: athenz-zms-server\r\r\nContent-Type: application/json\r\r\nContent-Length: 17\r\r\n\r\r\n"]
[44.991179, "o", "{\r\n  \"granted\": false\r\n}\r\n"]
[44.992489, "o", "\u001b(B\u001b[m"]
[44.995907, "o", "\u001b[35m"]
[44.99679, "o", "ZTS response:\r\n"]
[44.997788, "o", "\u001b(B\u001b[m"]
[45.001042, "o", "\u001b[37m"]
[45.037352, "o", "HTTP/1.1 200 OK\r\r\nHost: athenz-zts-server\r\r\nContent-Type: application/json\r\r\nContent-Length: 16\r\r\n\r\r\n"]
[45.072207, "o", "{\r\n  \"granted\": true\r\n}\r\n"]
[45.073359, "o", "\u001b(B\u001b[m"]
[45.0767, "o", "\u001b[33m"]
[45.07761, "o", "3. Using ZTS signed service certificate\r\n"]
[45.078673, "o", "\u001b(B\u001b[m"]
[45.081992, "o", "\u001b[37m"]
[45.082948, "o", "-rw------- 1 111626 users 1704 May 14 07:17 /athenz/docker/sample/test_service/key.pem\r\n-rw-r--r-- 1 111626 users 3666 May 14 07:18 /athenz/docker/sample/test_service/test_service.crt\r\n\r\nauthz_curl='curl --cacert /athenz/docker/sample/CAs/athenz_ca.pem --key /athenz/docker/sample/test_service/key.pem --cert /athenz/docker/sample/test_service/test_service.crt --silent --show-error -D header.http -o response.json'\r\n"]
[45.083846, "o", "\u001b(B\u001b[m"]
[45.087056, "o", "\u001b[35m"]
[45.08798, "o", "ZMS response:\r\n"]
[45.089064, "o", "\u001b(B\u001b[m"]
[45.092261, "o", "\u001b[37m"]
[45.132248, "o", "HTTP/1.1 200 OK\r\r\nHost: athenz-zms-server\r\r\nContent-Type: application/json\r\r\nContent-Length: 16\r\r\n\r\r\n"]
[45.166458, "o", "{\r\n  \"granted\": true\r\n}\r\n"]
[45.167589, "o", "\u001b(B\u001b[m"]
[45.171226, "o", "\u001b[35m"]
[45.17226, "o", "ZTS response:\r\n"]
[45.173262, "o", "\u001b(B\u001b[m"]
[45.176824, "o", "\u001b[37m"]
[45.213178, "o", "HTTP/1.1 200 OK\r\r\nHost: athenz-zts-server\r\r\nContent-Type: application/json\r\r\nContent-Length: 16\r\r\n\r\r\n"]
[45.247939, "o", "{\r\n  \"granted\": true\r\n}\r\n"]
[45.249066, "o", "\u001b(B\u001b[m"]
[45.252332, "o", "\u001b[32m"]
[45.253371, "o", "Reset test data\r\n"]
[45.254299, "o", "\u001b(B\u001b[m"]
[45.258534, "o", "\u001b[36m"]
[45.25962, "o", "\r\n#################################################\r\n### Acceptance Test Reset\r\n#################################################\r\n\r\n"]
[45.260666, "o", "\u001b(B\u001b[m"]
[45.277309, "o", "\u001b[35m"]
[45.278345, "o", "Done loading ENV. from /athenz/docker/env.sh\r\n"]
[45.27933, "o", "\u001b(B\u001b[m"]
[45.28282, "o", "\u001b[35m"]
[45.283643, "o", "NOTE: You are using the DEV settings in dev-env-exports.sh !!!\r\n"]
[45.284607, "o", "\u001b(B\u001b[m"]
[45.287754, "o", "\u001b[32m"]
[45.288613, "o", "Reset test data\r\n"]
[45.289563, "o", "\u001b(B\u001b[m"]
[45.292585, "o", "\u001b[33m"]
[45.293536, "o", "1. delete policy\r\n"]
[45.294508, "o", "\u001b(B\u001b[m"]
[45.297666, "o", "\u001b[37m"]
[45.342673, "o", "HTTP/1.1 204 No Content\r\r\nHost: athenz-zms-server\r\r\n\r\r\n"]
[45.381029, "o", "\u001b(B\u001b[m"]
[45.384342, "o", "\u001b[33m"]
[45.38534, "o", "2. delete role\r\n"]
[45.386302, "o", "\u001b(B\u001b[m"]
[45.389434, "o", "\u001b[37m"]
[45.437227, "o", "HTTP/1.1 204 No Content\r\r\nHost: athenz-zms-server\r\r\n\r\r\n"]
[45.472919, "o", "\u001b(B\u001b[m"]
[45.476136, "o", "\u001b[33m"]
[45.477053, "o", "3. delete service\r\n"]
[45.477948, "o", "\u001b(B\u001b[m"]
[45.481163, "o", "\u001b[37m"]
[45.536967, "o", "HTTP/1.1 204 No Content\r\r\nHost: athenz-zms-server\r\r\n\r\r\n"]
[45.573683, "o", "\u001b(B\u001b[m"]
[45.57707, "o", "\u001b[33m"]
[45.578034, "o", "4. delete domain\r\n"]
[45.579067, "o", "\u001b(B\u001b[m"]
[45.582418, "o", "\u001b[37m"]
[45.625972, "o", "HTTP/1.1 204 No Content\r\r\nHost: athenz-zms-server\r\r\n\r\r\n"]
[45.662384, "o", "\u001b(B\u001b[m"]
[45.665779, "o", "\u001b[33m"]
[45.666892, "o", "5. confirm testing domain is deleted\r\n"]
[45.667899, "o", "\u001b(B\u001b[m"]
[45.6712, "o", "\u001b[37m"]
[45.710902, "o", "HTTP/1.1 200 OK\r\r\nHost: athenz-zms-server\r\r\nContent-Type: application/json\r\r\nContent-Length: 97\r\r\n\r\r\n"]
[45.746432, "o", "{\r\n  \"names\": [\r\n    \"sys\",\r\n    \"sys.auth\",\r\n    \"sys.auth.audit\",\r\n    \"sys.auth.audit.domain\",\r\n    \"sys.auth.audit.org\",\r\n    \"user\"\r\n  ]\r\n}\r\n"]
[45.74778, "o", "\u001b(B\u001b[m"]
[45.751205, "o", "\u001b[32m"]
[45.752213, "o", "Test done🥳\r\n"]
[45.753199, "o", "\u001b(B\u001b[m"]
[45.91326, "o", "\u001b]0;wfan@docker:~/athenz/docker\u0007"]
[45.913528, "o", "[wfan@docker docker]$ "]
[47.223739, "o", "\r\n\u001b]0;wfan@docker:~/athenz/docker\u0007[wfan@docker docker]$ "]
[48.084697, "o", "e"]
[48.266214, "o", "x"]
[48.376251, "o", "i"]
[48.5387, "o", "t"]
[48.697879, "o", "\r\nexit\r\n"]
